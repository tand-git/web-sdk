/*! For license information please see sphereAnalytics.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SphereAnalytics=t():e.SphereAnalytics=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=124)}([function(e,t,n){"use strict";var r,o,i,a,s,c=n(16),u=n.n(c),l=n(10),_=n.n(l),f=n(14),p=n.n(f),d=n(15),g=n.n(d),h=n(13),v=n(2),y=n(1),m=n(9),b=n(3),E=n(5),O=n(18),w=n(12),M=(n(4),{messageDelayMs:.5*v.d,propRetainMs:30*v.c,storageKey:"_sphereId",storageKey2:"_sphereId2",storageTs:"_sphereTs",storageRef:"_sphereRef",noTracking:"_sphNoTracking",webMsg:"_sphereWebMsg",backUp:"_backUpData",storageInfo:"_sphereInfo",noShowMsg:"_sphNoShowWMsg",savedMsg:"_sphMsg",sessionMng:"_sphereMng",TWMsg:"_sphTWMsg",pageScroll:"_sph_pageScroll"}),A={sapAsset:null},T={sapAsset:null},I=".tand.kr:8883",P=!0,S=!1,C=!1,D=!1,k=!1,R=!1,U="v1.2",j="W",x="",N=!1,L=!1,B={};function W(){return N?s:Object(b.g)(window.location.host)||""}function K(e){try{e?(y.a.log("setSphIdCookie userId",e),B[r].id=O.a.encrypt(e)):(y.a.log("setSphIdCookie userId is Null"),delete B[r].id),Object(b.r)(W(),M.storageKey,btoa(JSON.stringify(B)))}catch(e){y.a.log("setSphIdCookie Error")}}var q=u()(u()(u()({},{}),M),{},{keyInConfig:function(e){for(var t=!1,n=0,r=Object.entries(M);n<r.length;n++){var o=p()(r[n],2);o[0];if(o[1]===e){t=!0;break}}return t},setBaseUrl:function(e){I=e},getBaseUrl:function(){return"https://trk"+(S?"-test":"")+I+("web"===o?"":"/m")},setAppKey:function(e){r=e},getAppKey:function(){return r},setTrackAnonymous:function(e){P=e},getTrackAnonymous:function(){return P},setTest:function(e){S=e},isTest:function(){return S},setInitCheck:function(e){D=e},getInitCheck:function(){return D},setWebMsgCheck:function(e){R=e},getWebMsgCheck:function(){return R},setWebMsgVer:function(e){U=e},getWebMsgVer:function(){return U},getWebMsgFetchType:function(){return j},getUserInfo:function(){return A},setUserInfo:function(e,t){try{switch(e){case"#userId":R&&A["#userId"]!==t&&m.a._fetchFuncCall(1e3),A["#userId"]=t,K(t),null==t&&(A=g()(T));break;case"#userName":A.sapUserName=t;break;case"sapGrade":A.sapGrade=t;break;case"sapGender":A.sapGender=t;break;case"sapBirthYear":A.sapBirthYear=t;break;case"sapEmail":A.sapEmail=t;break;case"sapAsset":if(null==t){A[e]=t;break}var n=Object.keys(t);n.length>0&&(null!=A.sapAsset?A.sapAsset[n[0]]?Object.keys(t[n[0]]).indexOf("removePoints")>-1?(delete A.sapAsset[n[0]],0===Object.keys(A.sapAsset).length&&(A.sapAsset=null)):A.sapAsset[n[0]]=Object.assign(A.sapAsset[n[0]],t[n[0]]):A.sapAsset[n[0]]=t[n[0]]:A.sapAsset=t);break;default:null===t?delete A[e]:A[e]=t}}catch(e){y.a.log("configForProp",e)}R&&!k&&m.a.sapMsgTriggerCheck({name:null,date:Date.now(),param:{}})},getDeviceType:function(){return o},setDeviceType:function(e){o=e,"web"!=e&&"rn"!=e?j="aos"===e?"A":"I":"web"===e&&(j=Object(b.m)()?"M":"W"),a=Object(b.f)("_ga")},getInfo:function(){y.a.log("_appKey",q.getAppKey()),y.a.log("_deviceType",q.getDeviceType()),y.a.log("_test",q.isTest()),y.a.log("_anonymous",q.getTrackAnonymous()),y.a.log("Sphere Web SDK version ".concat(h.a.version))},getVersion:function(){return i},setVersion:function(e){return i=e},setBrowserNotSupported:function(){var e=navigator.userAgent.toLowerCase();k="Netscape"==navigator.appName&&-1!=navigator.userAgent.search("Trident")||-1!=e.indexOf("msie")},getBrowserNotSupported:function(){return k},getGaId:function(){return a},optionSet:function(e){var t,n;"object"===_()(e)?null!=e&&((n=Object(b.i)(e,"logLevel"))&&("verbose"!==n&&"info"!==n&&"error"!==n||y.a.setLogLevel(n)),Object(b.o)(e,"test")&&this.setTest(!0),(n=Object(b.i)(e,"baseUrl"))&&this.setBaseUrl(n.replace(/\/+$/,"")),Object(b.o)(e,"trackAnonymous")&&this.setTrackAnonymous(!0),(Object(b.o)(e,"webMsg")||Object(b.o)(e,"web_msg"))&&this.setWebMsgCheck(!0),Object(b.l)(e,"testOn")&&(C=Object(b.l)(e,"testOn"),m.a.testOnCmp(C)),(n=Object(b.i)(e,"multiDomain"))&&n>0&&this.setNthDomain(n),(n=Object(b.l)(e,"pageViewAuto"))&&w.a.setCollectPageView(n),(n=Object(b.l)(e,"scroll"))&&w.a.setCollectPageScroll(n)):y.a.error("The sphereAs_options type entered is not an object. inputted type : "+_()(e));var r=null===(t=window.localStorage)||void 0===t?void 0:t.getItem("_sphL");null!=r&&["info","verbose"].includes(r)&&y.a.setLogLevel(r)},setNthDomain:function(e){null==e?y.a.info("The set nthDomain : "+W()):"number"==typeof e&&e>1?(s=Object(b.h)(window.location.host,e),N=!0,E.a.init(o),y.a.info("The set nthDomain : "+s)):y.a.error("nthDomain must be greater than 1. \n inputted nthDomain : "+e)},getSettingDomain:W,setTestMsgCmpId:function(e){"string"==typeof e&&(x=e)},getTestMsgCmpId:function(){return x},getWebMsgUrl:function(e){return"https://msg"+(S?"-test":"")+".tand.kr:8886/message/"+q.getWebMsgVer()+"/"+(e===v.a.W_MSG?"fetch":"testOnBrowserFetch")+"/"+q.getAppKey()+"/"+E.a.getUid()+function(e){var t={};return t._pl=j,t._ca="webview",""!=x&&e===v.a.TW_MSG&&(t._cid=x),null!=q.getUserInfo()["#userId"]&&(t._user_id=q.getUserInfo()["#userId"]),Object(b.q)(t)}(e)},getTestOn:function(){return C},testLog:function(e){var t=document.getElementById("logDiv");t&&(t.innerHTML=t.textContent+"\nSuccess::"+JSON.stringify(e))},setNoTracking:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||E.a.setItem(M.noTracking,e),L=e},getNoTracking:function(){return L},cloneSphIdCookie:function(e){try{Object.assign(B,e)}catch(e){y.a.log("cloneSphIdCookie Error")}},setSphIdCookie:K});Object.freeze(q),t.a=q},function(e,t,n){"use strict";var r,o=n(7),i=n.n(o),a=n(13),s="none",c="error",u="info",l="verbose",_=(r={},i()(r,s,-1),i()(r,c,0),i()(r,u,1),i()(r,l,2),r),f={production:s,development:l,test:l},p=d();function d(){return f[a.a.env]||c}function g(e,t){var n;if(!(_[p]<_[t])){for(var r=(new Date).toISOString(),o="log"===e?"  ":"info"===e?" ":"",i=["[".concat(a.a.namespace,"]"),r,"".concat(e.toUpperCase(),":").concat(o)],s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];(n=console)[e].apply(n,i.concat(c))}}function h(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];g.apply(void 0,[e,t].concat(r))}}var v={getLogLevel:function(){return p},setLogLevel:function(e){e&&-1===Object.keys(_).indexOf(e)?g("error","error","Invalid log levels - verbose, info, error, none"):(p=e||d(),g("info",e,"Log Level: ".concat(p)))},log:h("log",l),info:h("info",u),error:h("error",c)};t.a=v},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));var r=1e3,o=60*r,i={XHR_ERROR:"XHR transaction failed due to an error",NO_CONNECTION:"No internet connectivity"},a={TRK:"trk",TRK_m:"trkM",W_MSG:"wMsg",TW_MSG:"testWMsg"},s={STRING:"string",NUMBER:"number",INTEGER:"integer",FLOAT:"float"},c={USER_ID:"userId",GENDER:"gender",GRADE:"grade",EMAIL:"email",BIRTH_YEAR:"birthYear",PHONE:"phoneNumber",USER_PROPERTY:"userProperty",USER_PROPERTY_LONG:"userPropertyLong",REMOVE_PROPERTY:"removeProperty",REMAIN_POINT:"remainingPoint",TOTAL_EARNED_POINT:"totalEarnedPoint",TOTAL_USED_POINT:"totalUsedPoint",POINT:"point",PUSH_INFO:"push_agree_info",PUSH_AD:"push_agree_advertise",PUSH_NIGHT:"push_agree_night",PUSH_FCM:"push_fcm_token"}},function(e,t,n){"use strict";(function(e){n.d(t,"u",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"p",(function(){return c})),n.d(t,"t",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return _})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"o",(function(){return d})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"s",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return E})),n.d(t,"q",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"h",(function(){return M})),n.d(t,"k",(function(){return A}));var r=n(10),o=n.n(r);n(0);function i(t){return new e(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")}function a(t){var n=function(e){return Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("")}(t);return e.from(n,"latin1").toString("base64").replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(e){for(var t="",n=0;n<e.length;){var r=e[n++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&e[n++]);break;case 14:t+=String.fromCharCode((15&r)<<12|(63&e[n++])<<6|(63&e[n++])<<0)}}return t}function c(e){try{var t=JSON.parse(e);return n=t,"object"===o()(n)&&null!==n&&!(n instanceof Array)}catch(e){return!1}var n}function u(e){try{return JSON.parse(e)}catch(e){return null}}function l(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}var _={Android:function(){return null!=navigator.userAgent.match(/Android/i)},BlackBerry:function(){return null!=navigator.userAgent.match(/BlackBerry/i)},IOS:function(){return null!=navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return null!=navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return null!=navigator.userAgent.match(/IEMobile/i)}};function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.match(/[^\/:](\/|$)/);if(n){var r=e.substring(0,n.index+1);if(t)return r;var o=r.match(/((([^\./]+)\.)?([^\./:]+|[^\./:]{2}\.[^\.:]{2}))(:\d*)?$/g);if(o)return o[0]}return null}function p(e,t){return t in e&&e[t]?e[t]:null}function d(e,t){return t in e&&!0===e[t]}function g(e,t){return t?e&&"boolean"==typeof e[t]:"boolean"==typeof e}function h(e,t,n){var r="desc"===e?-1:1,o="desc"===e?1:-1;return t.sort((function(e,t){return e[n]>t[n]?r:e[n]<t[n]?o:0})),t}function v(e,t){return null==e||null==t||"string"==typeof e[0]||"number"==typeof e[0]||e.sort((function(e,n){for(var r=0,o=0;o<t.length;){if(0!==(r=e[t[o].key]>n[t[o].key]?1:e[t[o].key]<n[t[o].key]?-1:0)){"desc"==t[o].order&&0!==r&&(r=r>0?-1:1);break}o++}return r})),e}function y(e){var t=!1;return null!=e&&e.length>0&&/^_sphereEvent_/.test(e)&&(t=!0,e=e.replace("_sphereEvent_","")),{name:e,check:t}}function m(e){e+="=";var t=document.cookie,n=t.indexOf(e),r="";if(-1!=n){n+=e.length;var o=t.indexOf(";",n);-1==o&&(o=t.length),r=t.substring(n,o)}return decodeURI(r)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:720;if(e&&t&&n){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),document.cookie=t+"="+n+";path=/;expires="+o.toUTCString()+";domain="+e}}function E(e,t){e&&t&&(document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain="+e)}function O(e){var t="",n=[];if(e)for(var r in e)n.push(r+"="+e[r]);return n.length>0&&(t="?"+n.join("&")),t}function w(e){return"string"==typeof e?new URLSearchParams(decodeURI(window.location.search.substring(1))).get(e):null}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.split("."),r="";t>n.length&&(t=n.length);for(var o=n.length-t;o<n.length;o++)r+="."+n[o];return r.substring(1)}function A(){var e={},t=new URLSearchParams(window.location.search);return["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach((function(n){var r;t.has(n)&&(e[(r=n,r.replace(/([-_]\w)/g,(function(e){return e[1].toUpperCase()})))]=t.get(n))})),e}}).call(this,n(55).Buffer)},function(e,t,n){"use strict";var r,o,i,a,s,c=n(10),u=n.n(c),l=n(2),_=n(1),f=n(9),p=n(3),d=n(6),g=n(5),h=n(12),v=n(16),y=n.n(v),m=n(14),b=n.n(m),E=n(15),O=n.n(E),w=n(13),M=n(18),A={messageDelayMs:.5*l.d,propRetainMs:30*l.c,storageKey:"_sphereId",storageKey2:"_sphereId2",storageTs:"_sphereTs",storageRef:"_sphereRef",noTracking:"_sphNoTracking",webMsg:"_sphereWebMsg",backUp:"_backUpData",storageInfo:"_sphereInfo",noShowMsg:"_sphNoShowWMsg",savedMsg:"_sphMsg",sessionMng:"_sphereMng",TWMsg:"_sphTWMsg",pageScroll:"_sph_pageScroll"},T={sapAsset:null},I={sapAsset:null},P=".tand.kr:8883",S=!0,C=!1,D=!1,k=!1,R=!1,U=!1,j="v1.2",x="W",N="",L=!1,B=!1,W={};function K(){return L?s:Object(p.g)(window.location.host)||""}function q(e){try{e?(_.a.log("setSphIdCookie userId",e),W[r].id=M.a.encrypt(e)):(_.a.log("setSphIdCookie userId is Null"),delete W[r].id),Object(p.r)(K(),A.storageKey,btoa(JSON.stringify(W)))}catch(e){_.a.log("setSphIdCookie Error")}}var G=y()(y()(y()({},{}),A),{},{keyInConfig:function(e){for(var t=!1,n=0,r=Object.entries(A);n<r.length;n++){var o=b()(r[n],2);o[0];if(o[1]===e){t=!0;break}}return t},setBaseUrl:function(e){P=e},getBaseUrl:function(){return"https://trk"+(C?"-test":"")+P+("web"===o?"":"/m")},setAppKey:function(e){r=e},getAppKey:function(){return r},setTrackAnonymous:function(e){S=e},getTrackAnonymous:function(){return S},setTest:function(e){C=e},isTest:function(){return C},setInitCheck:function(e){k=e},getInitCheck:function(){return k},setWebMsgCheck:function(e){U=e},getWebMsgCheck:function(){return U},setWebMsgVer:function(e){j=e},getWebMsgVer:function(){return j},getWebMsgFetchType:function(){return x},getUserInfo:function(){return T},setUserInfo:function(e,t){try{switch(e){case"#userId":U&&T["#userId"]!==t&&f.a._fetchFuncCall(1e3),T["#userId"]=t,q(t),null==t&&(T=O()(I));break;case"#userName":T.sapUserName=t;break;case"sapGrade":T.sapGrade=t;break;case"sapGender":T.sapGender=t;break;case"sapBirthYear":T.sapBirthYear=t;break;case"sapEmail":T.sapEmail=t;break;case"sapAsset":if(null==t){T[e]=t;break}var n=Object.keys(t);n.length>0&&(null!=T.sapAsset?T.sapAsset[n[0]]?Object.keys(t[n[0]]).indexOf("removePoints")>-1?(delete T.sapAsset[n[0]],0===Object.keys(T.sapAsset).length&&(T.sapAsset=null)):T.sapAsset[n[0]]=Object.assign(T.sapAsset[n[0]],t[n[0]]):T.sapAsset[n[0]]=t[n[0]]:T.sapAsset=t);break;default:null===t?delete T[e]:T[e]=t}}catch(e){_.a.log("configForProp",e)}U&&!R&&f.a.sapMsgTriggerCheck({name:null,date:Date.now(),param:{}})},getDeviceType:function(){return o},setDeviceType:function(e){o=e,"web"!=e&&"rn"!=e?x="aos"===e?"A":"I":"web"===e&&(x=Object(p.m)()?"M":"W"),a=Object(p.f)("_ga")},getInfo:function(){_.a.log("_appKey",G.getAppKey()),_.a.log("_deviceType",G.getDeviceType()),_.a.log("_test",G.isTest()),_.a.log("_anonymous",G.getTrackAnonymous()),_.a.log("Sphere Web SDK version ".concat(w.a.version))},getVersion:function(){return i},setVersion:function(e){return i=e},setBrowserNotSupported:function(){var e=navigator.userAgent.toLowerCase();R="Netscape"==navigator.appName&&-1!=navigator.userAgent.search("Trident")||-1!=e.indexOf("msie")},getBrowserNotSupported:function(){return R},getGaId:function(){return a},optionSet:function(e){var t,n;"object"===u()(e)?null!=e&&((n=Object(p.i)(e,"logLevel"))&&("verbose"!==n&&"info"!==n&&"error"!==n||_.a.setLogLevel(n)),Object(p.o)(e,"test")&&this.setTest(!0),(n=Object(p.i)(e,"baseUrl"))&&this.setBaseUrl(n.replace(/\/+$/,"")),Object(p.o)(e,"trackAnonymous")&&this.setTrackAnonymous(!0),(Object(p.o)(e,"webMsg")||Object(p.o)(e,"web_msg"))&&this.setWebMsgCheck(!0),Object(p.l)(e,"testOn")&&(D=Object(p.l)(e,"testOn"),f.a.testOnCmp(D)),(n=Object(p.i)(e,"multiDomain"))&&n>0&&this.setNthDomain(n),(n=Object(p.l)(e,"pageViewAuto"))&&h.a.setCollectPageView(n),(n=Object(p.l)(e,"scroll"))&&h.a.setCollectPageScroll(n)):_.a.error("The sphereAs_options type entered is not an object. inputted type : "+u()(e));var r=null===(t=window.localStorage)||void 0===t?void 0:t.getItem("_sphL");null!=r&&["info","verbose"].includes(r)&&_.a.setLogLevel(r)},setNthDomain:function(e){null==e?_.a.info("The set nthDomain : "+K()):"number"==typeof e&&e>1?(s=Object(p.h)(window.location.host,e),L=!0,g.a.init(o),_.a.info("The set nthDomain : "+s)):_.a.error("nthDomain must be greater than 1. \n inputted nthDomain : "+e)},getSettingDomain:K,setTestMsgCmpId:function(e){"string"==typeof e&&(N=e)},getTestMsgCmpId:function(){return N},getWebMsgUrl:function(e){return"https://msg"+(C?"-test":"")+".tand.kr:8886/message/"+G.getWebMsgVer()+"/"+(e===l.a.W_MSG?"fetch":"testOnBrowserFetch")+"/"+G.getAppKey()+"/"+g.a.getUid()+function(e){var t={};return t._pl=x,t._ca="webview",""!=N&&e===l.a.TW_MSG&&(t._cid=N),null!=G.getUserInfo()["#userId"]&&(t._user_id=G.getUserInfo()["#userId"]),Object(p.q)(t)}(e)},getTestOn:function(){return D},testLog:function(e){var t=document.getElementById("logDiv");t&&(t.innerHTML=t.textContent+"\nSuccess::"+JSON.stringify(e))},setNoTracking:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||g.a.setItem(A.noTracking,e),B=e},getNoTracking:function(){return B},cloneSphIdCookie:function(e){try{Object.assign(W,e)}catch(e){_.a.log("cloneSphIdCookie Error")}},setSphIdCookie:q});Object.freeze(G);var F=G,Y=n(8),z=n(11),V={deviceType:"",setDeviceType:function(e){this.deviceType=e},native:null,isNative:function(){return!!this.native},setNative:function(e){this.native=e},versionCode:0,setVersionCode:function(e){this.versionCode=e}};function J(e,t){var n=Object(d.a)(t),r=Object(d.b)(l.f.STRING,e)&&Object(d.e)("user property",e),o=Object(d.b)(l.f.STRING,n,!0);r&&o?(Y.a.put(z.a.prop(e,n)),V.isNative()&&H({command:"setUserProperty",name:e,value:n})):(r||Object(d.c)(l.e.USER_PROPERTY,e,l.f.STRING),o||Object(d.c)(l.e.USER_PROPERTY,t,l.f.STRING))}function H(e){try{if(!F.getNoTracking())if("aos"===V.deviceType)V.versionCode>1190||0===V.versionCode?V.native.postMessage(JSON.stringify(e)):_.a.error("required for Android SDK v1.2.0");else if("ios"===V.deviceType)V.native.postMessage(e);else if("rn"===V.deviceType)"rn"===this.deviceType&&(e.msgType="sphereRnMsg"),V.native.postMessage(JSON.stringify(e));else if("web"===V.deviceType&&null!=(null==e?void 0:e.command)&&null!==(null==e?void 0:e.agree)){var t={pushAgree:{}};t.pushAgree[e.command]=e.agree,t.date=Date.now(),Y.a.put(t)}}catch(e){_.a.error(e),this.versionCode=1}}function $(e){return""===g.a.getProp()&&null===e}var X={commonApi:function(){return V},logEvent:function(e,t){var n=V.isNative()?{name:e,check:!1}:Object(p.b)(e),r=Object(d.e)("event",n.name);if(r)if(t&&Object.keys(t).length>0)for(var o in t)Object(d.e)("param",o)||(r=!1);else t=null;else;r&&(V.isNative()&&(t||(t={}),t.sapDate=Date.now(),H({command:"logEvent",name:e,parameters:t})),Y.a.put(z.a.event((n.check?"@":"")+n.name,t)))},setUserId:function(e){e||(e=null);var t=Object(d.a)(e);!V.isNative()&&$(e)||(Object(d.b)(l.f.STRING,t,!0)?(Y.a.put(z.a.prop("#userId",t)),V.isNative()&&H({command:"setUserId",userId:t,value:t})):Object(d.c)(l.e.USER_ID,t,l.f.STRING))},setName:function(e){e||(e=null);var t=Object(d.a)(e);!V.isNative()&&$(e)||(Object(d.b)(l.f.STRING,t,!0)?(Y.a.put(z.a.prop("#userName",t)),V.isNative()&&H({command:"setName",name:t,value:t})):Object(d.c)(l.e.USER_ID,t,l.f.STRING))},setGrade:function(e){e||(e=null);var t=Object(d.a)(e);!V.isNative()&&$(e)||(Object(d.b)(l.f.STRING,t,!0)?(Y.a.put(z.a.prop("sapGrade",t)),V.isNative()&&H({command:"setGrade",grade:t,value:t})):Object(d.c)(l.e.GRADE,t,l.f.STRING))},setGender:function(e){e||(e=null);var t=Object(d.a)(e);!V.isNative()&&$(e)||(Object(d.b)(l.f.STRING,t,!0)?null===e||e.match(/[mf]/)&&1===e.length?(Y.a.put(z.a.prop("sapGender",t)),V.isNative()&&H({command:"setGender",gender:t,value:t})):_.a.error("setGender: value must be 'm' or 'f'."):Object(d.c)(l.e.GENDER,t,l.f.STRING))},setBirthYear:function(e){e||(e=0),!V.isNative()&&$(e)||(Object(d.b)(l.f.INTEGER,e)?(Y.a.put(z.a.prop("sapBirthYear",e)),V.isNative()&&H({command:"setBirthYear",year:e,value:e})):Object(d.c)(l.e.BIRTH_YEAR,e,l.f.NUMBER))},setPhoneNumber:function(e){e||(e=null);var t=Object(d.a)(e);!V.isNative()&&$(e)||(Object(d.b)(l.f.STRING,t,!0)?(Y.a.put(z.a.prop("sapPhone",e)),V.isNative()&&H({command:"setPhoneNumber",number:e,value:e})):Object(d.c)(l.e.PHONE,t,l.f.STRING))},setEmail:function(e){var t;e||(e=null),!V.isNative()&&$(e)||null==(null===(t=F.getUserInfo())||void 0===t?void 0:t.sapEmail)&&null==e||(Object(d.b)(l.f.STRING,e,!0)?(Y.a.put(z.a.prop("sapEmail",e)),V.isNative()&&H({command:"setEmail",email:e,value:e})):Object(d.c)(l.e.EMAIL,e,l.f.STRING))},setRemainingPoint:function(e){null!=e&&Object(d.b)(l.f.INTEGER,e,!1)?(Y.a.put(z.a.asset(name||l.e.POINT,"remain",e)),V.isNative()&&H({command:"setRemainingPoint",name:name||"point",point:e})):Object(d.c)(l.e.REMAIN_POINT,e,l.f.NUMBER)},setTotalEarnedPoint:function(e){null!=e&&Object(d.b)(l.f.INTEGER,e,!1)?(Y.a.put(z.a.asset(name||l.e.POINT,"earned",e)),V.isNative()&&H({command:"setTotalEarnedPoint",name:name||"point",point:e})):Object(d.c)(l.e.TOTAL_EARNED_POINT,e,l.f.NUMBER)},setTotalUsedPoint:function(e){null!=e&&Object(d.b)(l.f.INTEGER,e,!1)?(Y.a.put(z.a.asset(name||l.e.POINT,"used",e)),V.isNative()&&H({command:"setTotalUsedPoint",name:name||"point",point:e})):Object(d.c)(l.e.TOTAL_USED_POINT,e,l.f.NUMBER)},removePoints:function(e){!V.isNative()&&$(null)||(Y.a.put(z.a.asset(e||"point")),V.isNative()&&H({command:"removePoints",name:e||"point"}))},resetPoints:function(){!V.isNative()&&$(null)||H({command:"resetPoints"})},setUserProperty:J,setUserPropertyLong:function(e,t){var n=Object(d.b)(l.f.STRING,e)&&Object(d.e)("user propertyLong",e),r=Object(d.b)(l.f.INTEGER,t,!1);n&&r?(Y.a.put(z.a.prop(e,null===t?null:t)),V.isNative()&&H({command:"setUserPropertyLong",name:e,value:t})):(n||Object(d.c)(l.e.USER_PROPERTY_LONG,e,l.f.STRING),r||Object(d.c)(l.e.USER_PROPERTY_LONG,t,l.f.NUMBER))},setUserPropertyArray:function(e,t){var n=Object(d.b)(l.f.STRING,e)&&Object(d.e)("user propertyArray",e),r=Object(d.d)("user propertyArray",t,!0);n&&r?(Y.a.put(z.a.prop(e,null===t?null:t)),V.isNative()&&H({command:"setUserPropertyArray",name:e,value:t})):n||Object(d.c)("user propertyArray",e,l.f.STRING)},removeUserProperty:function(e){u()(e)===l.f.STRING?(J(e,null),V.isNative()&&H({command:"removeUserProperty",name:e})):Object(d.c)(l.e.REMOVE_PROPERTY,e,l.f.STRING)},resetUserProperties:function(){g.a.setProp(g.a.getUid(),!0),V.isNative()&&H({command:"resetUserProperties"})},requestUpload:function(){Y.a.requestUpload(),V.isNative()&&H({command:"requestUpload"})},setAnalyticsCollectionEnabled:function(e){Object(p.l)(e)&&e&&(F.setNoTracking(e),V.isNative()&&H({command:"setAnalyticsCollectionEnabled",value:e}))},setLogLevel:function(e){if(e||(e="none"),_.a.setLogLevel(e),V.isNative()){var t=!1;switch(e){case"info":case"verbose":t=!0}H({command:"enableLog",enable:t})}},postMessage:H,inMsgStop:function(){Y.a.msgArrGet(!0),f.a.msgIsOn(!1),f.a._fetchStop()},inMsgStart:function(){Y.a.msgArrGet(!1),f.a._fetchStart(500)},eventSendingInterval:function(e){Object(d.b)(l.f.INTEGER,e,!1)&&V.isNative()&&H({command:"setEventSendingInterval",value:e})},pageViewOn:function(e,t){h.a.setCollectPageView(!0);var n=!1,r={};e&&(r.title=e);try{null!=t&&"object"===u()(t)&&Object.keys(t).length>0&&(n=!0)}catch(e){n=!1,_.a.log(e)}h.a.sendPageView(n?Object.assign(r,t):r)},setScroll:function(e){Object(p.l)(e)&&h.a.setCollectPageScroll(e)},setWebMsg:function(e){Object(p.l)(e)&&(this.optionSet({webMsg:e}),e?f.a.init():f.a._fetchStop())},systemEvent:function(e,t){t&&Object.keys(t).length>0||(t=null),V.isNative()&&(t||(t={}),t.sapDate=Date.now(),H({command:"systemEvent",name:e,parameters:t})),Y.a.put(z.a.event(e,t))}};Object.freeze(X);t.a=X},function(e,t,n){"use strict";var r,o,i,a,s,c,u,l=n(14),_=n.n(l),f=n(1),p=n(0),d=n(24),g=n(3),h=n(6),v=n(2),y=n(18),m=!1;function b(){var e,t=Number(Date.now()).toString(16);(e=window.localStorage).setItem(t,t);var n=t===e.getItem(t);return e.removeItem(t),n&&e?e:null}function E(){return r+o}function O(e){return Object(h.b)(v.f.STRING,e,!1)&&p.a.keyInConfig(e)?i.getItem(e):null}function w(e){Object(h.b)(v.f.STRING,e,!1)&&p.a.keyInConfig(e)&&i.removeItem(e)}function M(){return m=!0,Object(d.a)()}var A={init:function(e){var t,n,l,_;a=Object(g.m)(),s=navigator&&navigator.language,c=-1*(new Date).getTimezoneOffset(),i=b();var h,v,m=Object(g.f)(p.a.storageKey);if(m)try{n=JSON.parse(atob(m))}catch(e){n={error:"error",domain:""}}else n={};try{var w,A,T,I=p.a.getSettingDomain();if(l=null===(w=n)||void 0===w?void 0:w[p.a.getAppKey()],_=(null===(A=n)||void 0===A?void 0:A.domain)||"","web"===e){if(!(t=window.localStorage.getItem(p.a.storageKey))||t.length<22){var P,S,C;if(l&&(null===(P=l)||void 0===P?void 0:P.uid)&&22===(null===(S=l)||void 0===S?void 0:S.uid.length))r=l.uid;else r=M(),(null===(C=n)||void 0===C?void 0:C.error)||(n[p.a.getAppKey()]={uid:r});o=""}else{var D,k,R,U;if(o=t.substring(22),l&&22===(null===(D=l)||void 0===D||null===(k=D.uid)||void 0===k?void 0:k.length))r=null===(R=l)||void 0===R?void 0:R.uid;else r=t.substring(0,22),JSON.stringify(n).includes(r)&&(r=M()),(null===(U=n)||void 0===U?void 0:U.error)||(n[p.a.getAppKey()]={uid:r})}i.setItem(p.a.storageKey,E())}else l||(n[p.a.getAppKey()]={uid:r});if(h=Object(g.g)(document.location.href,p.a.isTest()),v=Object(g.g)(document.referrer,p.a.isTest()),u={val:h!==v,url:h!==v?document.referrer:""},!/^http(s)?:\/\/analytics[^\.]*\.tand\.kr/.test(u.url)&&u.val){var j={};u.url&&(j._referrer=u.url),j._entry=document.URL,j._isUtm=window.location.search.indexOf("utm_source")>-1,i.setItem(p.a.storageRef,JSON.stringify(j))}if(y.a.init(r),Object(g.d)(_||I,p.a.storageKey),n.domain=I,p.a.cloneSphIdCookie(n),null===(T=l)||void 0===T?void 0:T.id)try{var x;window.SphereAnalytics.setUserId(y.a.decrypt(null===(x=l)||void 0===x?void 0:x.id))}catch(e){f.a.log("setUserInfo Error: id",e)}!function(){var e,t=O(p.a.noTracking);try{e=JSON.parse(t||"false")}catch(t){e=!1}p.a.setNoTracking(e,!0)}()}catch(e){f.a.error("LocalStorage is not supported",e),r=Object(d.a)(),o=""}},getUid:function(){return r},setUid:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i||(i=b());var n=O(p.a.storageKey);n&&t&&i.setItem(p.a.storageKey,n.replace(r,e)),r=e},getProp:function(){return o},isMobile:function(){return a},getTimezoneOffset:function(){return c},getLang:function(){return s},setProp:function(e,t){o=t?"":e,i&&i.setItem(p.a.storageKey,E())},toString:E,getStorageRef:function(){return i.getItem(p.a.storageRef)},getItem:O,setItem:function(e,t){Object(h.b)(v.f.STRING,e,!1)&&p.a.keyInConfig(e)&&i.setItem(e,JSON.stringify(t))},removeItem:w,updateTs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();i&&i.setItem(p.a.storageTs,Number(e).toString(16))},checkTs:function(){return(new Date).getTime()-function(){if(i){var e=i.getItem(p.a.storageTs);if(e)return Number.parseInt(e,16)}return 0}()>=p.a.propRetainMs},resetStorageRef:function(){return i.removeItem(p.a.storageRef)},getRemainMsgCheck:function(){var e=!1,t=i.getItem("_sphMsg");try{t&&(e=JSON.parse(t).length>0)}catch(e){f.a.error("savedMsg Read Error",t)}return e},getNotShowMsg:function(){var e={};try{var t=O(p.a.noShowMsg);if(null!=t&&(e=JSON.parse(t)))for(var n=0,r=Object.entries(e);n<r.length;n++){var o=_()(r[n],1)[0];(new Date).getTime()>e[o]&&delete e[o]}return e}catch(e){return w(p.a.noShowMsg),{}}},isFirstVisit:function(){return m}};Object.freeze(A),t.a=A},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return c}));var r=n(10),o=n.n(r),i=n(1),a=n(2);function s(e,t){return!!t.match(/^[a-zA-Z#_]\w{0,39}$/)||(i.a.error("Invalid ".concat(e," name: ").concat(t,".")),!1)}function c(e,t,n){if(null==t)return n;if(Array.isArray(t)){var r=!0;return t.length>100?(i.a.info("The maximum length of an array is 100. Array value length : ".concat(t.length)),!1):(t.forEach((function(n){r&&n.length>250&&(r=!1,i.a.error("Invalid ".concat(e,".The maximum length that can be entered for a value is 250. value: ").concat(t)))})),r)}return i.a.error("Invalid ".concat(e,".The values entered are not arrays.")),!1}function u(e,t,n){switch(e){case a.f.STRING:return!!(o()(t)===e||null===t&&n);case a.f.INTEGER:return!(!(o()(t)===a.f.NUMBER||null===t&&n)||!l(t));case a.f.FLOAT:return!(!(o()(t)===a.f.NUMBER||null===t&&n)||l(t))}}function l(e){return null===e||e%1==0}function _(e,t,n){i.a.error("set ".concat(e,": The type of ").concat(t," is not ").concat(n))}function f(e){return null==e?null:o()(e)===a.f.STRING?e:e+""}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r,o=n(14),i=n.n(o),a=n(22),s=n.n(a),c=n(19),u=n.n(c),l=n(56),_=n.n(l),f=n(17),p=n.n(f),d=n(57),g=n.n(d),h=n(15),v=n.n(h),y=n(2),m=n(0),b=n(13),E=n(1),O=n(5),w=(n(4),n(11)),M=n(3),A=n(18),T="undefined"==typeof Promise?n(119).Promise:Promise,I=!0,P=[];function S(e,t,n,r,o){var i=n.xhr;if(4===i.readyState){var a=i.status>=200&&i.status<400,s=Object(M.t)(i.responseText);if(0!==i.status)return s||200===i.status?t(a?function(e,t,n){var r={status:"ok",statusCode:e.status,sendBody:e,resHeader:{},reqDateArr:null==n?void 0:n.msgArr};[y.a.W_MSG,y.a.TW_MSG].includes(t)?r=B(t,e,r):(delete n.msgArr,E.a.info("sph_data sent successfully.",n));e.responseText&&(r.body=Object(M.t)(e.responseText));return r}(i,r,o):C(i,r,"SERVER_CANNOT_PROCESS",!0)):e(C(i,r,a?"SERVER_MALFORMED_RESPONSE":"SERVER_INTERNAL_ERROR"));e(C(i,r,"NO_CONNECTION"))}}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={status:"error",statusCode:e.status,action:r?"CONTINUE":"RETRY",response:Object(M.p)(e.responseText)?JSON.parse(e.responseText):e.responseText,message:y.b[n],code:n};return B(t,e,o)}function D(e,t){if(m.a.getAppKey()||E.a.error("appKey not exist."),O.a.getUid()){var n,r,o=function(e){switch(e){case y.a.W_MSG:case y.a.TW_MSG:return m.a.getWebMsgUrl(e);case y.a.TRK:default:return m.a.getBaseUrl()+"/"+m.a.getAppKey()+"/"+O.a.getUid()}}(e);if(e===y.a.TRK||e===y.a.TRK_m)E.a.info("login Status: ",(null===(n=m.a.getUserInfo())||void 0===n?void 0:n["#userId"])?"loginId:"+(null===(r=m.a.getUserInfo())||void 0===r?void 0:r["#userId"]):"logOut");return new T((function(n,r){var a=new XMLHttpRequest;a.open("POST",o,!0),function(e,t){var n=[["Content-Type","application/json"],["X-Version","".concat(b.a.version)]];t===y.a.W_MSG&&n.push(["Access-Control-Expose-Headers","SPR-Fetch-Interval"]),n.forEach((function(t){var n=i()(t,2),r=n[0],o=n[1];e.setRequestHeader(r,o)}))}(a,e),a.onreadystatechange=function(){return S(r,n,{xhr:a},e,t)},a.onerror=function(){return r(C(a,e,"XHR_FAIL",t))},a.timeout=3e3;var s=v()(t);s&&delete s.msgArr,a.send(JSON.stringify(s))}))}E.a.error("uid not exist.")}function k(){R(),r=setInterval((function(){try{N(j())}catch(e){R(),P=[],q(),E.a.error(e)}finally{R()}}),m.a.messageDelayMs)}function R(){clearInterval(r)}function U(e){try{m.a.getInitCheck()||W(),(P=Array.isArray(P)&&P.length>0?P.filter((function(e){return!((new Date).getTime()-(e.date?e.date:e.events[0].date)>=18e5)})):[]).push(e),P.length>200&&P.splice(0,30),K()}catch(e){P=[],q(),E.a.error("savedEvent:Error")}}function j(){var e={},t=[],n=v()(P);if(P.length>0){for(var r;(r=n.shift())&&I;){if(r.prop&&Object.keys(r.prop).includes("#userId")&&null==r.prop["#userId"])return I=!1,t.push(r),e.msgArr=t,e;I&&(t.push(r),e=g()(e,r,(function(e,t){return p()(e)&&p()(t)?_()(e,t):u()(e)&&u()(t)?void 0:e||t})))}return e.msgArr=t,e}return e}function x(e){E.a.log("_loginCheck",e),(m.a.getTrackAnonymous()||e)&&""!==O.a.getStorageRef()&&O.a.resetStorageRef()}function N(e){var t,n,r,o,i,a,s;if(m.a.getAppKey())if(e=function(e){m.a.getGaId()&&(e.ga=m.a.getGaId());e.mobile=Object(M.m)(),e.gmt=O.a.getTimezoneOffset(),O.a.getLang()&&(e.lang=O.a.getLang());m.a.isTest()&&(e.test=!0);return e}(e=function(e){if(e=e||{date:Date.now()},"web"===m.a.getDeviceType()){var t=e.prop;if(t||O.a.getProp()){var n=[];if(O.a.getProp()?n.push(O.a.getProp()):n.push(""),t){delete e.prop;var r=A.a.encrypt(JSON.stringify(t));n.push(r)}e.p=n}e.anonymous=m.a.getTrackAnonymous();var o=O.a.getStorageRef();null!=o&&""!==o&&(o=JSON.parse(o),e.referrer=o._referrer,e.entry=o._entry)}else e.prop=m.a.getUserInfo(),e.meta={sdk:m.a.getVersion()};return e}(e)),"web"!==m.a.getDeviceType()||m.a.getTrackAnonymous()||"p"in e){var c;if("web"===m.a.getDeviceType()||null!==(null===(t=e)||void 0===t||null===(n=t.prop)||void 0===n?void 0:n["#userId"])||(null===(r=e)||void 0===r?void 0:r.events)){if("web"===m.a.getDeviceType()&&!(null===(o=e)||void 0===o?void 0:o.p)&&!(null===(i=e)||void 0===i?void 0:i.events)&&!(null===(a=e)||void 0===a?void 0:a.pushAgree))return P=[],void q()}else null===(c=m.a.getUserInfo())||void 0===c||delete c["#userId"];(null===(s=e)||void 0===s?void 0:s.date)||(e.date=Date.now()),D(y.a.TRK,e).then((function(e){return L(e)})).catch((function(e){L(e)}))}else E.a.log("Anonymous user event ignored.")}function L(e){if(e&&200===e.statusCode)try{m.a.getTestOn()&&m.a.testLog(P),O.a.updateTs(),e.body&&"p"in e.body&&O.a.setProp(e.body.p),I||(I=!0,window.SphereAnalytics.resetUserProperties()),e.body?x(e.body.login||!1):x(!1);var t=e.reqDateArr;t&&Array.isArray(t)&&t.length>0&&((P=P.filter((function(e){return!t.find((function(t){return s()(e,t)}))}))).length>0?(K(),k()):q()),w.a.resetDupCache()}catch(e){P=[],K()}}function B(e,t,n){return[y.a.W_MSG,y.a.TW_MSG].includes(e)&&(n["SPR-Fetch-Interval"]=t.getResponseHeader("SPR-Fetch-Interval"),n.date=t.getResponseHeader("date")),n}function W(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)P=[];else{var t=window.localStorage.getItem(m.a.savedMsg);if(t)try{var n=JSON.parse(t);P=Array.isArray(n)?v()(n):[]}catch(e){P=[]}else P=[]}}function K(){window.localStorage.setItem(m.a.savedMsg,JSON.stringify(P))}function q(){O.a.removeItem(m.a.savedMsg)}var G={init:function(){W()},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!m.a.getNoTracking())try{if(m.a.getBrowserNotSupported())return;if("boolean"==typeof e&&!e)return;if(e&&U(e),!m.a.getInitCheck())return;t?N(j()):k()}catch(e){}},send:D,msgArrGet:W,_sendData:N,requestUpload:function(){R(),N(j())}};Object.freeze(G),t.a=G},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__),lodash_isEqual__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22),lodash_isEqual__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_6__),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7__),_sender__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8),_logger__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),_storage__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5),_config__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),_util_random__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24),_util_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),_constants__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2),_apiSMng__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(12),g_sphWebMsgTrigger={},g_fetchDefaultInterval=13e3,g_lastServerTime=0,g_fetchInterval,g_awaitMsg={top:[],box:[],bottom:[]},g_allowShowMsg={top:!0,box:!0,bottom:!0},g_testMsgIs=!1,g_testCmpIs=!1,g_testMsgOn=!1,g_notShowMsg={},g_call_count=0,_tagDiv="div",_tagSpan="span",_tagButton="button",_bgColor="background-color",_fontSize="font-size",_color="color",_cls_pointer="_sa_cursor-pointer",_survey_sub_type_check="check_mark",_survey_type_yes_no="yes_or_no",_msgSid=Object(_util_random__WEBPACK_IMPORTED_MODULE_12__.a)(),_noCmpName=["Last-Modified","SPR-Fetch-Interval","date","msgSid","msgSidT"],_msgTryCallCheck=!0,_isMsgServerCall=!1,_msgInit=!1,_savedMsg=[];function init(){msgIsOn(!0);try{if(!_isMsgServerCall){if(!_config__WEBPACK_IMPORTED_MODULE_11__.a.getWebMsgCheck())return;g_notShowMsg=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getNotShowMsg(),g_testMsgIs=window.location.search.indexOf("sapTestMsg")>0,(g_testCmpIs=window.location.search.indexOf("_cid")>0)&&_config__WEBPACK_IMPORTED_MODULE_11__.a.setTestMsgCmpId(Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.j)("_cid")),g_testMsgIs?_sapMsgShow("sapTestMsg"):msgDataCall()}}catch(e){}}function msgDataCall(){try{var e=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);null===e&&(e="{}");var t=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(e),n=Object.keys(t);n.splice(n.indexOf("date"),1),n.splice(n.indexOf("SPR-Fetch-Interval"),1),n.splice(n.indexOf("msgSid"),1);var r={campaigns:[]},o=[];n.length>0&&(n.forEach((function(e){var n,r,i={campaign_id:e,modified:t[e].modified};((null===(n=t[e])||void 0===n?void 0:n.trigger_count)||0===(null===(r=t[e])||void 0===r?void 0:r.trigger_count))&&(i.remained_trigger_count=t[e].trigger_count),i.end_time<Date.now()&&delete t[e],(!t[e].is_test||g_testCmpIs&&t[e].is_test)&&o.push(i)})),r.campaigns=o);var i=Object.keys(g_notShowMsg);if(i.length>0&&(i.forEach((function(e){n.includes(e)||delete g_notShowMsg[e]})),Object.keys(g_notShowMsg).length>0?_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.noShowMsg,g_notShowMsg):_storage__WEBPACK_IMPORTED_MODULE_10__.a.removeItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.noShowMsg)),null==t?void 0:t.msgSid){if("visible"===document.visibilityState&&t.msgSid!==_msgSid)return _msgTryCallCheck?(t.msgSid=_msgSid,_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg,t),_fetchFuncCall(1e3),void(_msgTryCallCheck=!1)):(msgIsOn(!1),_fetchStop(),void(_msgTryCallCheck=!0));if("visible"!==document.visibilityState)return void _fetchStop();_msgTryCallCheck=!0}else t.msgSid=_msgSid,_saveCmpData(t);if(t.date&&t["SPR-Fetch-Interval"]){var a=t.date,s=t["SPR-Fetch-Interval"],c=(new Date).getTime(),u=new Date(a).getTime()+Number(s);c>=u||g_lastServerTime===new Date(a).getTime()&&Number(g_fetchInterval==s)?_sapMsgFetchCall(r):(g_lastServerTime=a,g_fetchInterval=s,_fetchFuncCall(u-c),o.length>0&&_settingCmpData())}else _sapMsgFetchCall(r)}catch(e){window.localStorage.removeItem("_sphereWebMsg")}}function _settingCmpData(){try{var e=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);if(null!=e){for(var t=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(e),n=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7___default()(_noCmpName),r=0,o=Object.entries(t);r<o.length;r++){var i=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(o[r],1)[0];n.includes(i)||(t[i].trigger_scenarios_private?t[i].trigger_scenarios.length>t[i].showedScenarios.length&&_msgTriggerSet(t[i]):t[i].showedScenarios.length<=0&&_msgTriggerSet(t[i]))}_savedEventsRun(),sapMsgTriggerCheck({name:null,date:Date.now(),param:{}})}}catch(e){window.localStorage.removeItem("_sphereWebMsg"),_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("settingCmpData",e)}}function _sapMsgFetchCall(e){_config__WEBPACK_IMPORTED_MODULE_11__.a.getWebMsgCheck()&&!_isMsgServerCall&&(_isMsgServerCall=!0,_sender__WEBPACK_IMPORTED_MODULE_8__.a.send(_constants__WEBPACK_IMPORTED_MODULE_14__.a[g_testCmpIs?"TW_MSG":"W_MSG"],e).then((function(e){200===e.statusCode&&_sapMsgFetchData(e,_fetchFuncCall),_isMsgServerCall=!1})).catch((function(e){304===e.statusCode?_sapMsgFetchData(e,_fetchFuncCall):(_fetchFuncCall(),_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("fetchError",e)),_isMsgServerCall=!1})))}function _sapMsgFetchData(e,t){g_fetchInterval=e["SPR-Fetch-Interval"];var n=e.date;g_lastServerTime=new Date(n).getTime();var r=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);null===r&&(r="{}");var o=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(r);if(delete o["Last-Modified"],delete o.date,delete o["SPR-Fetch-Interval"],(null==o?void 0:o.msgSid)&&(null==o?void 0:o.msgSid)!==_msgSid)return msgIsOn(!1),void _fetchStop();if(200===e.statusCode){var i=e.body;i&&i.campaigns&&(i.campaigns.forEach((function(e){var t=e.metadata.id;if(e.metadata.is_deleted)delete o[t],delete g_sphWebMsgTrigger[t],delete g_notShowMsg[t];else{var n=o[t],r=[],i=!1;!n||e.metadata.is_test|e.metadata.is_modified||(r=n.showedScenarios,i=n.closeCmp),o[t]=_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({content:e.content,duration:e.duration,priority:e.priority,trigger_scenarios_private:e.trigger_scenarios_private,trigger_scenarios:e.trigger_scenarios,trigger_count:e.trigger_count,showedScenarios:r,closeCmp:i,ref_url:e.ref_url},e.metadata),o[t].trigger_scenarios_private?o[t].trigger_scenarios.length>r.length&&_msgTriggerSet(o[t]):r.length<=0&&_msgTriggerSet(o[t])}})),Object.keys(g_notShowMsg).length>0?_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.noShowMsg,g_notShowMsg):_storage__WEBPACK_IMPORTED_MODULE_10__.a.removeItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.noShowMsg))}else for(var a=function(){var e=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(c[s],1)[0];o[e].showedMsgs&&o[e].showedMsgs.forEach((function(t){_sphereMsgEvent(e,null,t,"_sphereEvent_iamViewed")}))},s=0,c=Object.entries(o);s<c.length;s++)a();o.date=n,o["SPR-Fetch-Interval"]=g_fetchInterval,_saveCmpData(o),_savedEventsRun(),200===e.statusCode&&sapMsgTriggerCheck({name:null,date:Date.now(),param:{}}),t&&t()}function sapMsgTriggerCheck(e){var t=this;try{if(!_config__WEBPACK_IMPORTED_MODULE_11__.a.getInitCheck())return;_msgInit||_savedMsg.push(e);for(var n=[],r=function(){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(i[o],1)[0];if(g_notShowMsg[r]&&!(Date.now()>g_notShowMsg[r]))return{v:void 0};var a=g_sphWebMsgTrigger[r];if(e.date>=a.startTime&&(null==a.endTime||e.date<=a.endTime)&&a.trigger_scenarios)for(var s=function(o){var i=a.trigger_scenarios[o],s=Object.keys(i);if(s&&1===s.length&&"id"===s[0])n.findIndex((function(e){return e.id===r}))>-1||n.push({id:r,sNo:i.id,is_test:a.is_test});else if(!1===a.closeCmp&&-1===a.showedScenarios.indexOf(i.id)){var c=!0,u=!0,l=!0,_=!0;if(i.time){c=!1;var f=i.time.type;("immediately"===f||"between"===f&&"string"==typeof f.startTime&&"string"==typeof f.endTime&&e.date>=_timeConvertToDay(f.startTime)&&e.date<=_timeConvertToDay(f.endTime))&&(c=!0)}if((null==i?void 0:i.is_loginCheckOn)&&(null==i?void 0:i.is_login)!==_getIsUserInfoValue("#userId"))return"continue";if(i.events&&(u=!1,i.events.forEach((function(t,n){var i=[];if(t.countDown=(null==t?void 0:t.countDown)?t.countDown:t.count,t.name===e.name)if(t.params?t.params.forEach((function(t){var n,r;(null==e||null===(n=e.param)||void 0===n?void 0:n[t.name])?"string"===t.type?t.filter_set||(r=t.values.indexOf(e.param[t.name])>-1,i.push(t.except?!r:r)):"boolean"===t.type?(r=t.boolean_value===e.param[t.name],i.push(t.except?!r:r)):"number"===t.type&&t.filter_set&&(r=_comparison_num(t.filter_set,e.param[t.name]),i.push(t.except?!r:r)):i.push(!1)})):i.push(!0),u=i.indexOf(!1)<=-1){if(u=!0,t.count>0){u=!1;var a=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);if(null!=a&&""!==a){var s=JSON.parse(a);s[r].trigger_scenarios[o].events[n].countDown||(s[r].trigger_scenarios[o].events[n].countDown=t.countDown),--t.countDown,s[r].trigger_scenarios[o].events[n].countDown&&s[r].trigger_scenarios[o].events[n].countDown>0&&(s[r].trigger_scenarios[o].events[n].countDown=s[r].trigger_scenarios[o].events[n].countDown-1),0===t.countDown&&(u=!0,s[r].trigger_scenarios[o].events[n].countDown=s[r].trigger_scenarios[o].events[n].count),_saveCmpData(s)}}}else;}),t)),i.props){l=!1;var p=[];i.props.forEach((function(e){var t;if("string"===e.type){var n=_getUserInfoValue(e.name,e.sub_key);t=!(!n||0!==e.values.length)||e.values.indexOf(n)>-1,p.push(e.except?!t:t)}else if("boolean"===e.type){t=_getIsUserInfoValue(e.name,e.sub_key)==e.boolean_value,p.push(e.except?!t:t)}else if(e.filter_set){var r=_getUserInfoValue(e.key,e.sub_key);t=_comparison_num(e.filter_set,r),p.push(e.except?!t:t)}})),l=p.indexOf(!1)<=-1}(null==i?void 0:i.pages)&&(_=i.pages.every((function(e){return!e.except===_check_target_url(e)}))),(null==i?void 0:i.app_keys)&&Array.isArray(null==i?void 0:i.app_keys)&&(null==i?void 0:i.app_keys.includes(_config__WEBPACK_IMPORTED_MODULE_11__.a.getAppKey())),c&&u&&l&&_&&(n.findIndex((function(e){return e.id===r}))>-1||n.push({id:r,sNo:i.id,is_test:a.is_test}))}},c=0;c<a.trigger_scenarios.length;c++)s(c)},o=0,i=Object.entries(g_sphWebMsgTrigger);o<i.length;o++){var a=r();if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default()(a))return a.v}for(var s=0,c=n;s<c.length;s++){var u=c[s];1===g_sphWebMsgTrigger[u.id].trigger_count?delete g_sphWebMsgTrigger[u.id]:--g_sphWebMsgTrigger[u.id].trigger_count,u.sNo=u.sNo?u.sNo:1,u.event=e}_manageMsg(n)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("eventCheckError",e)}}function _manageMsg(e){try{var t=!1,n=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);if(null!=n){var r,o=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(n),i=_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2___default()(e);try{for(i.s();!(r=i.n()).done;){var a,s=r.value,c=o[s.id];s.priority=c.priority,s.start_time=c.start_time,s.end_time=c.end_time?c.end_time:2534022144e5,"external_system"===(null==c||null===(a=c.content)||void 0===a?void 0:a.purpose_type)&&(t=!0),t?_sapMsgShow(s.id,s.sNo,s.event):(s.type="box"===c.content.shape.type?c.content.shape.type:c.content.shape.style.location,g_awaitMsg[s.type].push(s))}}catch(e){i.e(e)}finally{i.f()}}t||_callShowMsg()}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("cmpMngError",e)}}function _callShowMsg(){try{for(var e=0,t=Object.entries(g_awaitMsg);e<t.length;e++){var n=t[e];if(Array.isArray(n[1])&&n[1].length>0&&g_allowShowMsg[n[0]]&&(n[1]=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.s)(n[1],[{key:"priority",order:"asc"},{key:"end_time",order:"asc"},{key:"start_time",order:"desc"}]),Array.isArray(n[1])&&n[1].length>0)){var r=n[1][0];r.id&&r.sNo&&(g_allowShowMsg[n[0]]=!1,_sapMsgShow(r.id,r.sNo,r.event,r.is_test))}}}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("CmpCallError",e)}}function _msgTriggerSet(e){try{var t=function(){if(g_notShowMsg[e.id]&&!(Date.now()>g_notShowMsg[e.id]))return{v:void 0};g_sphWebMsgTrigger[e.id]&&delete g_sphWebMsgTrigger[e.id];var t={};t.trigger_scenarios=e.trigger_scenarios,e.trigger_scenarios.length>0&&(t.trigger_scenarios=e.trigger_scenarios.map((function(e){return Object.keys(e).includes("is_login")&&(e.is_loginCheckOn=!0),e}))),t.trigger_scenarios_private=e.trigger_scenarios_private,t.trigger_count=(null==e?void 0:e.trigger_count)?e.trigger_count:1,t.startTime=e.start_time,t.endTime=e.end_time,t.showedScenarios=e.showedScenarios,t.closeCmp=e.closeCmp,t.is_test=e.is_test,g_sphWebMsgTrigger[e.id]=t;var n=!1,r=!1;if(e.trigger_scenarios)for(var o=0;o<e.trigger_scenarios.length;o++){var i=e.trigger_scenarios[o];(null==i?void 0:i.events)&&i.events.forEach((function(e){n&&r||(["satPcScroll","satMobileScroll"].includes(e.name)&&!n&&(n=!0,_apiSMng__WEBPACK_IMPORTED_MODULE_15__.a.setMsgScrollEvent(!0)),"satPcExitIntent"!==e.name||r||(r=!0,_apiSMng__WEBPACK_IMPORTED_MODULE_15__.a.setMsgDisplayOutEvent(!0)))}))}}();if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default()(t))return t.v}catch(e){window.localStorage.removeItem("_sphereWebMsg"),_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("cmpTriggerError",e)}}function _testCmpShow(e){try{var t,n,r,o=null==e||null===(t=e.body)||void 0===t||null===(n=t.campaigns)||void 0===n?void 0:n.find((function(e){return e.metadata.id===_config__WEBPACK_IMPORTED_MODULE_11__.a.getTestMsgCmpId()}));null!=o&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default()(o)&&(null==o?void 0:o.content)&&((null==o||null===(r=o.content)||void 0===r?void 0:r.external_system_params)||(null==o?void 0:o.ref_url))?(_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.TWMsg,o),_sapMsgShow(_config__WEBPACK_IMPORTED_MODULE_11__.a.getTestMsgCmpId())):_logger__WEBPACK_IMPORTED_MODULE_9__.a.info("테스트 캠페인이 종료되었습니다.")}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("testCmpError",e)}}function _sapMsgShow(e,t,n){try{var r;null===(r=document.getElementById(e))||void 0===r||r.remove();var o,i,a,s=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg),c={campaignId:e,scenarioEvent:n,scenarioId:t,sapDate:Date.now(),removeCmpCheck:!0};if(null!=s||g_testMsgIs||g_testCmpIs){var u;if(null==s||g_testMsgIs){if(!g_testMsgIs)return;c.is_test=!0;var l,_,f,p=document.querySelector("#sapTestMsg");if(p&&document.body.removeChild(p),g_testMsgIs?l=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.j)("sapTestMsg"):(l=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.TWMsg),_storage__WEBPACK_IMPORTED_MODULE_10__.a.removeItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.TWMsg)),null==l||""===l)return;if((null===(_=i=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(l))||void 0===_?void 0:_.metadata)&&(i.name=null===(f=i.metadata)||void 0===f?void 0:f.name),o=i.content,!(i&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_3___default()(i)&&Object.keys(i).length>0))return}else{var d,g;if(a=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(s),(null===(d=i=a[e])||void 0===d?void 0:d.trigger_count)||(i.trigger_count=1),-1===(null===(g=i)||void 0===g?void 0:g.trigger_count))c.removeCmpCheck=!1;else{if(i.showedScenarios.includes(t))return;i.trigger_scenarios_private||(i.closeCmp=!0),i.trigger_count>0&&(i.trigger_count=i.trigger_count-1),0===i.trigger_count&&(c.removeCmpCheck=!0,i.showedScenarios.push(t)),i.showedMsgs||(i.showedMsgs=[]),c.triggered=n.date,c.messageId=i.message_id,i.showedMsgs.push(c)}c.is_test=i.is_test,c.remainedTriggerCount=i.trigger_count,o=i.content}c.campaignName=i.name;var h="sphereCss";if(!document.getElementById(h)){var v=document.getElementsByTagName("head")[0],y=createEl("link");y.id=h,y.rel="stylesheet",y.type="text/css",i&&i.ref_url&&(y.href=window.location.host.includes("test.tand.kr")||window.location.href.includes("index_dev_local.html")?"https://cdn-test.tand.kr/sdk/demo/msg/sa-campaign.css":i.ref_url.css),appendC(v,y)}var m=createEl(_tagDiv),b="external_system"===(null===(u=o)||void 0===u?void 0:u.purpose_type);m.id=e,m.style.position="relative";var E=g_testMsgIs||g_testCmpIs?{}:i.trigger_scenarios.filter((function(e){return e.id===t}))[0];if(b){var O,w;m.classList.add(null===(O=o)||void 0===O||null===(w=O.external_system_params)||void 0===w?void 0:w.class_name)}else{var M,A,T,I=createEl(_tagDiv);I.id="sa-campaign__v2",classAdd(I,"_sa_dim"),(null===(M=o)||void 0===M?void 0:M.outer)&&o.outer.css_classes&&classAdd(I,o.outer.css_classes),appendC(m,I);var P=createEl(_tagDiv);o&&o.shape&&o.shape.css_classes&&classAdd(P,o.shape.css_classes),appendC(I,P),appendC(m,I);var S=createEl(_tagDiv);classAdd(S,"_sa_campaign-wrapper"),colorAdd(S,o.shape.style,!0);var C=createEl(_tagDiv);classAdd(C,"_sa_campaign-inner"),o&&o.layout&&o.layout.css_classes&&classAdd(C,o.layout.css_classes),colorAdd(C,o.layout.style,!0);var D=createEl(_tagDiv);if(classAdd(D,"_sa_image-area"),null===(A=o)||void 0===A?void 0:A.image){var k,R=new Image;classAdd(R,"_sa_img"),o&&o.image&&"string"!=typeof o.image&&(R.src=o.image.url),R.alt=(null===(k=i)||void 0===k?void 0:k.name)?i.name:"campaignImage",appendC(D,R),appendC(C,D)}var U=!1,j=createEl(_tagDiv);classAdd(j,"_sa_text-area");var x=createEl("p");classAdd(x,"_sa_title");var N=o.title;if(N){classAdd(x,N.css_classes);var L=N.style;L&&(styleAdd(x,N.style),N.text&&appendT(x,N.text)),appendC(j,x)}var B=createEl("p");classAdd(B,"_sa_subtext");var W,K=o.body;if(K)if(classAdd(B,K.css_classes),appendC(j,B),U=!0,"string"!=typeof K&&K.style)(null===(W=o.body)||void 0===W?void 0:W.style)&&styleAdd(B,o.body.style),K.text&&appendT(B,K.text);(N||K)&&appendC(C,j);var q,G,F={};if(o.survey){var Y,z=[],V={};o.post_process_contents&&(q=o.post_process_contents.find((function(e){return!0===e.is_success})),G=o.post_process_contents.find((function(e){return!1===e.is_success})));var J=createEl(_tagDiv),H="_sa_survey-question",$="_sa_survey-question-option";classAdd(J,H),o.survey.questions.forEach((function(t){z.push(t.order),t.type&&(V[t.order]=t.type);var n=createEl("p");classAdd(n,H+"-title"),n.id=e+"_q_title_"+t.order;var r=t.question_content,a=r.style,s=t.question_option;r.css_classes&&classAdd(n,r.css_classes),a&&styleAdd(n,a),r.text&&appendT(n,r.text);var c=createEl(_tagDiv);classAdd(c,$);var u=createEl("radio"===t.type?"ol":_tagDiv);classAdd(u,$+"__"+t.type);var l=t.sub_type;if(t.type===_survey_type_yes_no&&classAdd(u,$+"__"+t.type+"__"+l),["radio","checkbox","yes_or_no"].includes(t.type))s.question_option_contents.forEach((function(n,o){var a,c,_=n.style,f=n.choice_style;if("radio"===t.type){var p;c=(a=createEl("li")).dataset,classAdd(a,[$+"__radio--item",_cls_pointer],s.css_classes);var d=createEl(_tagSpan),g=createEl("p");classAdd(g,$+"--text"),appendT(g,n.text),classAdd(d,"_sa_icon_radio_button_unchecked"),appendC(a,d),appendC(a,g),c.choiceStyle=_objToStr({color:null==s||null===(p=s.choice_style)||void 0===p?void 0:p.color})}else if(t.type===_survey_type_yes_no){if(c=(a=createEl("custom"===l?_tagDiv:"p")).dataset,"custom"!==l&&classAdd(a,_cls_pointer,$+"__"+(0===o?"yes":"no")),n.css_classes&&classAdd(a,n.css_classes),"radio_button"===l)appendT(a,n.text),_&&styleAdd(a,_,["cl","bg"]);else{var h,v,y,m=createEl(_tagSpan);if("custom"!==l)classAdd(h=createEl(_tagSpan),"_sa_icon_"+(l===_survey_sub_type_check?0===o?"yes_circle":"no_circle":0===o?"thumb_up":"thumb_down")+"_unchecked");else classAdd(a,$+"__yes_or_no__custom--item"),(h=new Image).alt=((null===(v=i)||void 0===v?void 0:v.name)?null===(y=i)||void 0===y?void 0:y.name:"Campaign")+ +o+"번 이미지",classAdd(h,$+"__yes_or_no__custom-image"),h.src=n.image_url,h.onload=function(){img_resize()};n.css_classes&&![_survey_sub_type_check,_survey_type_yes_no].includes(l)&&classAdd(h,n.css_classes),n.text&&appendT(m,n.text),f&&colorAdd(h,f),appendC(a,h),[_survey_sub_type_check,_survey_type_yes_no].includes(l)&&(0!==o&&styleRemove(m,"color"),appendC(a,m))}n.choice_css_classes&&(c.choiceCss=_objToStr(n.choice_css_classes)),f&&(c.choiceStyle=_objToStr(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({color:null==f?void 0:f.color},"background-color",null==f?void 0:f[_bgColor]))),_&&(c.style=_objToStr(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({color:null==_?void 0:_.color},"background-color",null==_?void 0:_[_bgColor])))}_&&"radio_button"!==l&&(_.color&&colorAdd(a,_.color),_[_bgColor]&&"radio"!==t.type&&colorAdd(a,_,!0)),c.rating=o,c.text=n.text||n.value,c.value=n.value,c.order=n.order,a.onclick=function(n){n.stopPropagation();try{var o=n.target.parentNode.parentNode,i=n.target.parentNode.dataset,a=n.target.tagName,s=t.type;"radio"===s&&"LI"===a&&(o=n.target.parentNode,i=n.target.dataset),s===_survey_type_yes_no&&("radio_button"===l&&(o=n.target.parentNode,i=n.target.dataset),"check_mark"!==l&&"yes_or_no"!==l||"P"===a&&(o=n.target.parentNode,i=n.target.dataset)),o.childNodes.forEach((function(e,n){var r=e.firstChild,o=e.dataset;if("radio"===t.type)classRemove(r,["_sa_icon_radio_button_unchecked","_sa_icon_radio_button_checked"]),e.childNodes.forEach((function(e,t){styleRemove(e,_color),n===Number.parseInt(i.rating)?(colorAdd(e,_strToObj(o.choiceStyle)),0===t&&classAdd(e,"_sa_icon_radio_button_checked")):0===t&&classAdd(e,"_sa_icon_radio_button_unchecked")}));else if(t.type===_survey_type_yes_no)if("radio_button"===l)styleRemove(e,_color),n===Number.parseInt(i.rating)?(styleAdd(e,_strToObj(o.choiceStyle),["cl","bg"]),o.choiceCss&&classAdd(e,JSON.parse(o.choiceCss))):(styleAdd(e,_strToObj(o.style),["cl","bg"]),o.choiceCss&&classRemove(e,JSON.parse(o.choiceCss)));else if("check_mark"===l||"yes_or_no"===l){var a=l===_survey_sub_type_check?0===n?"yes_circle":"no_circle":0===n?"thumb_up":"thumb_down";classRemove(r,["_sa_icon_"+a+"_unchecked","_sa_icon_"+a+"_checked"]),classAdd(r,"_sa_icon_"+a+(n===Number.parseInt(i.rating)?"_checked":"_unchecked")),[_survey_sub_type_check,_survey_type_yes_no].includes(l)&&e.childNodes.forEach((function(e,t){styleRemove(e,_color),[_survey_type_yes_no].includes(l)&&0===t&&colorAdd(e,_strToObj(o.choiceStyle)),n===Number.parseInt(i.rating)?colorAdd(e,_strToObj(i.choiceStyle)):0===t&&[_survey_sub_type_check].includes(l)&&colorAdd(e,_strToObj(o.choiceStyle))}))}else"custom"===l&&(classRemove(e,"_sa_item_checked"),n===Number.parseInt(i.rating)&&classAdd(e,"_sa_item_checked"))})),_surveySetData(e,{order:t.order,text:r.text,answer:{replyOrder:i.order,replyText:i.text,replyValue:i.value}})}catch(n){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("clickError")}},appendC(u,a)}));else if(["star_rating","number_rating"].includes(t.type))!function(){var n,i,a="star_rating"===t.type,c=a?u:createEl(_tagDiv),l=createEl("ol");l.dataset.numAdd=s.rating_low_count,classAdd(l,"_sa_survey-question-option__number_rating--list");var _=createEl("ol");_.dataset.numAdd="6",classAdd(_,"_sa_survey-question-option__number_rating--list");var f=0===s.rating_low_count?0:1,p=s.rating_count|s.rating_high_count;F.banner_rating_num={check:"banner"===o.shape.type&&!a,width:5===p?"200px":"340px"};for(var d=f;d<=p;d++){var g=createEl(a?_tagButton:"li");if(g.dataset.rating=d,a){classAdd(g,[_cls_pointer,"_sa_icon_star_unchecked"]),appendC(c,g);var h=createEl("span");h.className="_blind",appendT(h,"총 "+p+"점 중 "+d+"점"),appendC(g,h)}else appendT(g,d),classAdd(g,"_sa_survey-question-option__number_rating--item"),appendC("banner"===o.shape.type||l.childNodes.length<5+(0===s.rating_low_count?1:0)?l:_,g);g.onclick=function(n){try{a?n.target.parentNode.childNodes.forEach((function(e,t){var r=t+1;classRemove(e,["_sa_icon_star_unchecked","_sa_icon_star_checked"]),styleRemove(e,_color),r<=n.target.dataset.rating?(colorAdd(e,s.choice_style),classAdd(e,"_sa_icon_star_checked")):classAdd(e,"_sa_icon_star_unchecked"),r==n.target.dataset.rating?e.firstChild.textContent="총 "+p+"점 중 "+r+"점 선택됨":e.firstChild.textContent="총 "+p+"점 중 "+r+"점"})):n.target.parentNode.parentNode.childNodes.forEach((function(e,t){"OL"===e.tagName&&e.childNodes.forEach((function(t,r){var o,i=r+Number.parseInt(null===(o=e.dataset)||void 0===o?void 0:o.numAdd);styleRemove(t,_bgColor),i===Number.parseInt(n.target.dataset.rating)&&colorAdd(t,s.choice_style,!0)}))}));var o=n.target.dataset.rating;_surveySetData(e,{order:t.order,text:r.text,answer:{replyOrder:o,replyText:o,replyValue:o}})}catch(n){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("clickError")}}}if(!a){classAdd(c,"_sa_survey-question-option__number_rating--wrapper"),classAdd(c,$+"__number_rating--value-area");var v=createEl(_tagDiv);if(classAdd(v,$+"__number_rating--text-area"),appendT(n=createEl("p"),s.rating_low_text),(null==s?void 0:s.rating_low_style)&&styleAdd(n,null==s?void 0:s.rating_low_style),classAdd(n,"_sa_survey-rating-low-text"),appendT(i=createEl("p"),s.rating_high_text),(null==s?void 0:s.rating_high_style)&&styleAdd(i,null==s?void 0:s.rating_high_style),classAdd(i,"_sa_survey-rating-high-text"),classAdd(n,null==s?void 0:s.rating_low_css_classes),appendC(v,n),s.rating_high_count<6||"banner"===o.shape.type)appendC(v,i),appendC(c,v),appendC(c,l);else{appendC(c,v),appendC(c,l),appendC(c,_);var y=createEl(_tagDiv);classAdd(y,$+"__number_rating--text-area"),classAdd(i,null==s?void 0:s.rating_high_css_classes),appendC(y,i),appendC(c,y)}appendC(u,c)}}();else if(["text"].includes(t.type)){var _,f,p;classAdd(u,"_sa_survey-question-option__short-answer");var d=document.createElement("input");classAdd(d,"_sa_input"),d.id=e+"_input_"+t.order,(null==s?void 0:s.placeholder)&&(d.placeholder=s.placeholder),appendC(u,d),d.dataset.filterTypeArr=_objToStr((null==s||null===(_=s.validation)||void 0===_?void 0:_.filter_type_set)?s.validation.filter_type_set:[]),d.dataset.filterSet=_objToStr((null==s||null===(f=s.validation)||void 0===f?void 0:f.validation_filter_set)?s.validation.validation_filter_set:{}),d.dataset.validType=(null==s||null===(p=s.validation)||void 0===p?void 0:p.type)?s.validation.type:"string"}if(appendC(c,u),appendC(J,n),appendC(J,c),G){var g,h,v,y,m,b=createEl("p");b.id=e+"_q_errorMsg_"+t.order,(null===(g=G.body)||void 0===g?void 0:g.text)&&appendT(b,null===(h=G.body)||void 0===h?void 0:h.text),classAdd(b,"_sa_survey-error-message",null===(v=G.body)||void 0===v?void 0:v.css_classes),classAdd(b,"_sa_survey-error-message",null===(y=G.body)||void 0===y?void 0:y.css_classes),styleAdd(b,null===(m=G.body)||void 0===m?void 0:m.style),b.style.display="none",appendC(J,b)}})),(null==F||null===(Y=F.banner_rating_num)||void 0===Y?void 0:Y.check)&&(J.style.maxWidth=F.banner_rating_num.width),appendC(C,J),m.dataset.qArr=JSON.stringify(z),m.dataset.qType=JSON.stringify(V)}var X=createEl(_tagDiv),Z=createEl(_tagDiv),Q=createEl(_tagDiv);if(q){var ee,te,ne,re,oe,ie,ae,se,ce,ue,le;X.id="sa-campaign-post-process",classAdd(X,"_sa_dim"),(null===(ee=o)||void 0===ee||null===(te=ee.outer)||void 0===te?void 0:te.css_classes)&&classAdd(X,o.outer.css_classes),classAdd(Z,"_sa-campaign-post-process-box"),(null===(ne=o)||void 0===ne||null===(re=ne.shape)||void 0===re?void 0:re.style.location)&&classAdd(Z,"_sa_location__"+o.shape.style.location),X.style.display="none",appendC(X,Z),appendC(Z,Q),classAdd(Q,"sa-campaign-post-process-main");var _e=createEl(_tagDiv);appendC(Q,_e),classAdd(_e,"_sa_text-area");var fe=createEl("p");(null===(oe=q.title)||void 0===oe?void 0:oe.text)&&appendT(fe,null===(ie=q.title)||void 0===ie?void 0:ie.text),classAdd(fe,"_sa_title",null===(ae=q.title)||void 0===ae?void 0:ae.css_classes),styleAdd(fe,null===(se=q.title)||void 0===se?void 0:se.style),appendC(_e,fe);var pe=createEl("p");(null===(ce=q.body)||void 0===ce?void 0:ce.text)&&appendT(pe,q.body.text),classAdd(pe,"_sa_subtext",null===(ue=q.body)||void 0===ue?void 0:ue.css_classes),styleAdd(pe,null===(le=q.body)||void 0===le?void 0:le.style),appendC(_e,pe),appendC(m,X)}var de="box"===i.content.shape.type?i.content.shape.type:i.content.shape.style.location;g_awaitMsg[de]=g_awaitMsg[de].filter((function(t){return t.id!==e}));var ge=createEl(_tagButton);classAdd(ge,"_sa_btn_close");var he=createEl("image"===o.layout.type?_tagDiv:_tagSpan);classAdd(he,"_sa_link-area");var ve=createEl(_tagDiv);classAdd(ve,"_sa_bottom-group");var ye=createEl(_tagDiv);classAdd(ye,"_sa_bottom-group");var me=[];o.buttons?(me=o.buttons.map((function(e){return"main"===e.type&&(e.link_data=o.link),e}))).find((function(e){return["close","submit"].includes(e.click_action)}))||me.push({type:"header",order:99,click_action:"close",close_option:{type:"normal"}}):me.push({type:"header",order:0,click_action:"close",close_option:{type:"normal"}}),o.link&&(C.onclick=function(t){t.stopPropagation();try{var n=_getUrlLink(o.link),r=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7___default()(c);r.linkUrl=null==n?void 0:n.url,r.clickAction="link",(null==r?void 0:r.removeCmpCheck)&&delete r.removeCmpCheck,_sphereMsgEvent(e,r,E,"_sphereEvent_iamClicked"),movingToLink(m,n)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("mainClickError")}});var be={header:ge,main:he,footer:ve,aftFooter:ye};_addBtn(e,de,m,me,be,null===(T=o)||void 0===T?void 0:T.link,c,E);var Ee,Oe=be.main.childNodes.length>0;if("banner"===o.shape.type?(appendC(C,be.header),U||appendC(j,B),Oe&&appendC(B,be.main)):(o.survey||appendC(P,be.header),"vertical"===o.layout.style["axis-align"]&&["image_text","text_image"].includes(o.layout.type)||"image"===o.layout.type?Oe&&appendC(D,be.main):Oe&&appendC(j,be.main)),ve.childNodes.length>0)(null==F||null===(Ee=F.banner_rating_num)||void 0===Ee?void 0:Ee.check)&&(be.footer.style.maxWidth=F.banner_rating_num.width),appendC(C,be.footer);ye.childNodes.length>0&&appendC(Q,be.aftFooter),appendC(P,S),appendC(S,C),appendC(m,I),appendC(P,S)}setTimeout((function(){var t,n,r,i,s,u,l;document.body&&("banner"===o.shape.type&&"top"===(null===(t=o)||void 0===t||null===(n=t.shape)||void 0===n||null===(r=n.style)||void 0===r?void 0:r.location)?document.body.insertBefore(m,document.body.firstChild):appendC(document.body,m),m.style.zIndex=_getMaxZIndex()+1,b&&(null===(i=o)||void 0===i||null===(s=i.external_system_params)||void 0===s?void 0:s.id)&&(null===(u=o)||void 0===u||null===(l=u.external_system_params)||void 0===l?void 0:l.class_name)&&sphere3rdMsgCheck(o.external_system_params.id,m),g_testMsgIs||(_saveCmpData(a),_sphereMsgEvent(e,c,E,"_sphereEvent_iamViewed")))}),200)}}catch(t){_logger__WEBPACK_IMPORTED_MODULE_9__.a.info("webMsgShowError");var we=_storage__WEBPACK_IMPORTED_MODULE_10__.a.getItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg);if(we){var Me=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.t)(we);delete Me[e],_saveCmpData(Me)}var Ae=window.location.href.indexOf("sapTestMsg"),Te=window.location.href.indexOf("_cid");Ae>0||Te>0?window.location.href=window.location.href.substring(0,Ae>Te?Ae:Te):init()}}function _addBtn(e,t,n,r,o,i,a,s){Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.a)("asc",r,"order");var c,u=_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2___default()(r);try{var l=function(){var r=c.value,i=void 0;if("header"===r.type){i=createEl(_tagSpan);var u=createEl(_tagSpan);classAdd(u,"_sa_icon_clear"),r.text&&appendC(o.header,i),appendC(o.header,u)}else"main"===r.type?(classAdd(i=createEl("a"),"_sa_link",r.css_classes),appendC(o.main,i)):"footer"===r.type?(classAdd(i=createEl(_tagButton),"_sa_button",r.css_classes),appendC(o.footer,i)):"success_footer"===r.type&&(classAdd(i=createEl(_tagButton),["_sa_button",_cls_pointer],r.css_classes),appendC(o.aftFooter,i));if(r.style){var l=r.style,_=i.style;l["font-style"]&&(_.fontStyle=l["font-style"]),l[_fontSize]&&(_.fontSize=l[_fontSize]+"px"),l.color&&(_.color=_testMsgColor(l.color)),l["text-align"]&&(_.textAlign=l["text-align"]),l[_bgColor]&&(_.backgroundColor=_testMsgColor(l[_bgColor]))}r.css_classes&&classAdd(i,r.css_classes),r.text&&appendT(i,r.text),("header"===r.type?o.header:i).onclick=function(o){try{var i;o.stopPropagation();var c,u={},l=r.click_action;if((u=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_7___default()(a)).clickAction=l,"submit"===l){var _,f,p,d,g,h,v=u.campaignId,y=null===(_=document.querySelector("#"+v))||void 0===_||null===(f=_.dataset)||void 0===f?void 0:f.surveys,m=null===(p=document.querySelector("#"+v))||void 0===p||null===(d=p.dataset)||void 0===d?void 0:d.qArr,b=null===(g=document.querySelector("#"+v))||void 0===g||null===(h=g.dataset)||void 0===h?void 0:h.qType,E=!0,O=_strToObj(m),w=_strToObj(b);if(O.forEach((function(e){if("text"===w[e])if(E)if(E=_textFilterCheck(v+"_input_"+e)){var t,n,r=document.getElementById(v+"_input_"+e).value;_surveySetData(v,{order:e,text:document.getElementById(v+"_q_title_"+e).textContent,answer:{replyOrder:0,replyText:r,replyValue:r}}),y=null===(t=document.querySelector("#"+v))||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.surveys}else E=!1;else E=!1;else E&&(E=!1)})),!E&&O.length>0)return void O.forEach((function(e){var t=document.querySelector("#"+v+"_q_errorMsg_"+e);t&&(t.style.display="inline-block")}));if(!y)return;var M=JSON.parse(y);u.survey={questions:M},document.querySelector("#"+v+"> #sa-campaign__v2").style.display="none",(c=document.querySelector("#"+v+"> #sa-campaign-post-process"))&&(c.style.display=null),c.querySelector("._sa_button").focus()}else n.style.display="none";var A=r.close_option;if(A&&!g_testMsgIs&&!g_testCmpIs){var T=0;if("day"===A.type){var I=new Date,P=A.count?A.count:1;I.setDate(I.getDate()+parseInt(P)-1),I.setHours(23),I.setMinutes(59),I.setMilliseconds(59),T=I.getTime(),u.closeOption={type:A.type,count:P}}else"never"===A.type&&(T=new Date("9999-12-31").getTime());"normal"!==A.type&&(g_notShowMsg[e]=T,_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.noShowMsg,g_notShowMsg))}var S=_getUrlLink(r.link_data);(null==S?void 0:S.url)&&(u.linkUrl=S.url),(null===(i=u)||void 0===i?void 0:i.removeCmpCheck)&&delete u.removeCmpCheck,_sphereMsgEvent(e,u,s,"_sphereEvent_iamClicked"),(null==S?void 0:S.url)?movingToLink(null,S):(g_allowShowMsg[t]=!0,_callShowMsg())}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("cmpClickError",e)}}};for(u.s();!(c=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}}function _testMsgColor(e){return(g_testMsgIs?"#":"")+e}function _comparison_num(e,t){var n;return e.eq?n=e.eq.includes(t):((e.lt||0===e.lt)&&(n=e.lt>t),(e.lte||0===e.lte)&&(n=e.lte>=t),(e.gt||0===e.gt)&&(n=e.gt<t),(e.gte||0===e.gte)&&(n=e.gte<=t)),n}function _getIsUserInfoValue(e,t){return!!_config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e]&&!!(t?_config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e][t]:_config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e])}function _getUserInfoValue(e,t){return _config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e]?t?_config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e][t]:_config__WEBPACK_IMPORTED_MODULE_11__.a.getUserInfo()[e]:null}function _isTestMsg(e,t,n){g_testMsgIs=window.location.search.indexOf("sapTestMsg")>0,(g_testCmpIs=window.location.search.indexOf("_cid")>0)&&_config__WEBPACK_IMPORTED_MODULE_11__.a.setTestMsgCmpId(Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.j)("_cid")),g_testMsgIs?e("sapTestMsg"):n()}function _fetchFuncCall(e){try{_fetchStop(),!g_testMsgIs&&(0===g_call_count||g_call_count>0&&!g_testCmpIs)&&(0===g_call_count&&g_call_count++,window.sphWebMsg_fetch=setInterval(msgDataCall,e||(g_fetchInterval||g_fetchDefaultInterval)),msgIsOn(!0))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_9__.a.log("CmpFetchError",e)}}function _fetchStart(e){var t;(null===(t=window)||void 0===t?void 0:t.sphWebMsgIsOn)||_fetchFuncCall(e)}function _fetchStop(){try{window.sphWebMsg_fetch&&clearInterval(window.sphWebMsg_fetch)}catch(e){}}function msgIsOn(e){window.sphWebMsgIsOn=e}function _timeConvertToDay(e){var t=e.split(":"),n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),Number(t[0]),Number(t[1]),Number(t[2])).getTime()}function _sphereMsgEvent(e,t,n,r){try{!g_testMsgIs&&t.is_test||(null==n||(null==n?void 0:n.events)||delete t.scenarioEvent,window.SphereAnalytics.logEvent(r,t),window.SphereAnalytics.requestUpload())}catch(e){}}function _getUrlLink(e){try{var t=cvtToDeviceTypeForMessage();if(e&&(null==e?void 0:e.urls)&&Array.isArray(e.urls)){var n=e.urls.find((function(e){return"all"===e.platform?e:e.platform===t}));if(n)return{url:n.url,open_type:e.open_type}}return{url:null,open_type:null}}catch(e){return{url:null,open_type:null}}}function _surveySetData(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{var r,o=document.querySelector("#"+e),i=o.dataset,a=Number.parseInt(t.order),s=t.text,c=t.answer;c.replyOrder=Number.parseInt(c.replyOrder),r=i.surveys?(r=JSON.parse(i.surveys)).map((function(e){return e.questionOrder===a&&(e.replies.length<n?e.replies.find((function(e){return lodash_isEqual__WEBPACK_IMPORTED_MODULE_6___default()(e,c)}))||(e.replies=[].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(e.replies),[c])):1===n&&(e.replies=[c])),e})):[{questionOrder:a,questionText:s,replies:[c]}],i.surveys=JSON.stringify(r);var u=JSON.parse(i.qArr);u=u.filter((function(e){return e!=a})),i.qArr=JSON.stringify(u),document.querySelector("#"+e+"_q_"+a).style.display="none"}catch(e){}}function createEl(e){return document.createElement(e)}function appendC(e,t){e.appendChild(t)}function appendT(e,t){appendC(e,document.createTextNode(t))}function classAdd(e,t,n){classSet(e,t,!0),n&&classSet(e,n,!0)}function classRemove(e,t){classSet(e,t,!1)}function classSet(e,t,n){if("string"==typeof t)n?e.classList.add(t):e.classList.remove(t);else if(Array.isArray(t)){var r,o;n?(r=e.classList).add.apply(r,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(t)):(o=e.classList).remove.apply(o,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(t))}}function colorAdd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];styleAdd(e,t,n?["bg"]:["cl"])}function styleAdd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.style,o={cl:!0,bg:!0,ftSize:!0,ftStyle:!0,ttAlign:!0,setType:function(e){for(var t=0,n=Object.entries(o);t<n.length;t++){var r=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(n[t],1)[0];"setType"===r||e.includes(r)||(o[r]=!1)}}};e&&(n&&Array.isArray(n)&&n.length>0&&o.setType(n),(null==t?void 0:t.color)&&o.cl&&(r.color=_testMsgColor(t.color)),(null==t?void 0:t["background-color"])&&o.bg&&(r.backgroundColor=_testMsgColor(t["background-color"])),(null==t?void 0:t["font-size"])&&o.ftSize&&(r.fontSize=t[_fontSize]+"px"),(null==t?void 0:t["font-style"])&&o.ftStyle&&(r.fontSize=t[_fontSize]+"px"),(null==t?void 0:t["text-align"])&&o.ttAlign&&(r.textAlign=t["text-align"]))}function styleRemove(e,t){attrRemove(e,t,"style")}function attrRemove(e,t,n){if(e&&"string"==typeof n&&"string"==typeof t)switch(n){case"style":e.style.removeProperty(t)}}function img_resize(){var maxsize=120,contents=document.querySelectorAll("#sa-campaign__v2"),_iterator3=_babel_runtime_helpers_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2___default()(contents),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)for(var _cont=_step3.value,img=_cont.getElementsByTagName("img"),i=0;i<img.length;i++)eval("img["+i+"].width > maxsize")&&eval("img["+i+"].width = maxsize")}catch(e){_iterator3.e(e)}finally{_iterator3.f()}}function _getMaxZIndex(){return Math.max.apply(Math,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(Array.from(document.querySelectorAll("body *"),(function(e){return parseFloat(window.getComputedStyle(e).zIndex)})).filter((function(e){return!Number.isNaN(e)}))).concat([0]))}function _objToStr(e){try{return Object.keys(e).forEach((function(t){return null==e[t]&&delete e[t]})),JSON.stringify(e)}catch(e){return"{}"}}function _strToObj(e){try{return JSON.parse(e)}catch(e){return{}}}function _textFilterCheck(e){var t=!0,n=document.getElementById(e);if(n){var r=n.dataset;if(r){var o=n.value;if(""===o)return!1;if("number"===r.validType)try{if(o=Number(o),isNaN(o))return!1}catch(e){return!1}if((null==r?void 0:r.filterTypeArr)&&(null==r?void 0:r.filterSet))t=_comparison_value(_strToObj(r.filterSet),o)}}else t=!1;return t}function _comparison_value(e,t){var n=!0;return n&&e.str_eq&&(n=e.str_eq.includes(t)),n&&e.eq&&(n=e.eq.includes(t)),n&&(e.lt||0===e.lt)&&(n=e.lt>t),n&&(e.lte||0===e.lte)&&(n=e.lte>=t),n&&(e.gt||0===e.gt)&&(n=e.gt<t),n&&(e.gte||0===e.gte)&&(n=e.gte<=t),n&&e.contains&&(n=t.indexOf(e.contains)>-1),n&&e.not_contains&&(n=-1===t.indexOf(e.not_contains)),n&&(e.limit_low_size||0===e.limit_low_size)&&(n=e.limit_low_size<=t.length),n&&(e.limit_high_size||0===e.limit_high_size)&&(n=e.limit_high_size>=t.length),n}function sphere3rdMsgCheck(e,t){window.sphMsg_3rdMsgCheck=setInterval((function(){sphere3rdMsgClick(e,t)}),2e3)}function sphere3rdMsgClick(e,t){document.getElementById(e)?(clearInterval(window.sphMsg_3rdMsgCheck),t.click()):(++t.dataset.callCount,t.dataset.callCount>5&&clearInterval(window.sphMsg_3rdMsgCheck))}function testOnCmp(e){e?(_fetchStop(),g_testMsgOn=!0,_settingCmpData()):(_fetchFuncCall(),g_testMsgOn=!1)}function _savedEventsRun(){var e;for(_msgInit=!0;e=_savedMsg.shift();)sapMsgTriggerCheck(e)}function _saveCmpData(e){_storage__WEBPACK_IMPORTED_MODULE_10__.a.setItem(_config__WEBPACK_IMPORTED_MODULE_11__.a.webMsg,e)}function _check_target_url(e){var t=window.location.pathname+window.location.search,n=null==e?void 0:e.filter_type;if(null==e?void 0:e.paths)switch(n){case"equals":return e.paths.includes(t);case"contains":return e.paths.some((function(e){return t.includes(e)}));case"starts":return e.paths.some((function(e){return t.startsWith(e)}))}return!1}function movingToLink(e,t){e&&(e.style.display="none"),(null==t?void 0:t.url)&&setTimeout((function(){(null==t?void 0:t.open_type)?"current"===t.open_type?window.open(t.url,"_self"):"tab"===t.open_type?window.open(t.url):"window"===t.open_type&&window.open(t.url,"_blank","width="+document.documentElement.clientWidth+",height="+document.documentElement.clientHeight):window.open(t.url,"_self")}),600)}function cvtToDeviceTypeForMessage(){switch(_config__WEBPACK_IMPORTED_MODULE_11__.a.getDeviceType()){case"ios":return"ios";case"aos":return"android";case"web":return Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.m)()?"mobile_web":"web";default:return""}}var SphereInMessage={init:init,sapMsgTriggerCheck:sapMsgTriggerCheck,_fetchStop:_fetchStop,_fetchStart:_fetchStart,testOnCmp:testOnCmp,msgIsOn:msgIsOn,_fetchFuncCall:_fetchFuncCall};Object.freeze(SphereInMessage),__webpack_exports__.a=SphereInMessage},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=n(22),a=n.n(i),s=n(1),c=n(0),u=n(9),l=(n(4),{});t.a={prop:function(e,t){s.a.info("Set user property. ".concat(e,": ").concat(t));var n={prop:{}};return n.prop[e]=t,n.date=Date.now(),c.a.setUserInfo(e,t),n},asset:function(e,t,n){var r;if(e)if(t){s.a.info("Set user ".concat(e,". ").concat(t,": ").concat(n));var i={};r={prop:i},i.sapAsset=i={},i[e]=i={},i[t]=n,c.a.setUserInfo("sapAsset",o()({},e,o()({},t,n)))}else{s.a.info("Reset user ".concat(e,"s."));var a={};r={prop:a},a.sapAsset=a={},a[e]=null,c.a.setUserInfo("sapAsset",o()({},e,null))}else{s.a.info("Reset all user assets.");var u={};r={prop:u},u.sapAsset=null,c.a.setUserInfo("sapAsset",null)}return r.date=Date.now(),r},event:function(e,t){s.a.info("Log event. Event name: ".concat(e));var n,r=Date.now();try{if(t&&Object.keys(t).length){var o=l[e];if(!a()(o,t))return l[e]=t,n={name:e,date:t.sapDate?t.sapDate:r,param:t},c.a.getWebMsgCheck()&&!c.a.getBrowserNotSupported()&&u.a.sapMsgTriggerCheck(n),{events:[n],date:n.date}}else if(!l[e])return l[e]={},n={name:e,date:r},c.a.getWebMsgCheck()&&!c.a.getBrowserNotSupported()&&u.a.sapMsgTriggerCheck(n),{events:[n],date:n.date}}catch(e){}return!1},resetDupCache:function(){l={}},eventPropLog:function(e,t,n){e?s.a.info("Set user property. ".concat(t,": ").concat(n)):s.a.info("Log event. Event name. ".concat(t,": ").concat(n))}}},function(e,t,n){"use strict";var r=n(9),o=n(5),i=n(3),a=n(0),s=(n(1),n(4)),c={title:document.title,url:document.URL,scrollPercent:0,saved:function(){return{title:document.title,url:document.URL,scrollPercent:10*Math.ceil(this.scrollPercent/10)}}},u=!1,l=0,_=!1,f=!1,p=!1,d=!1;function g(e){e.addEventListener("mouseleave",h)}function h(){!Object(i.m)()&&_&&r.a.sapMsgTriggerCheck({name:"satPcExitIntent",date:Date.now(),param:{}})}function v(){var e=document.documentElement,t=(null==e?void 0:e.scrollHeight)||2,n=(null==e?void 0:e.clientHeight)||1,o=Math.round(window.scrollY/(t-n)*100);-0===o&&(o=0),o>100&&(o=100),u&&o>l&&(l=o,r.a.sapMsgTriggerCheck({name:"sat"+(Object(i.m)()?"Mobile":"Pc")+"Scroll",date:Date.now(),param:{percent:o}})),f&&o>c.scrollPercent&&(c.scrollPercent=o,window.localStorage.setItem(a.a.pageScroll,JSON.stringify(c.saved())))}function y(e){if(p&&!d){p=!0,d=!0;var t={title:document.title,url:document.location.href};Object.assign(t,Object(i.k)()),Object.assign(t,e),s.a.systemEvent("$pageView",t)}}var m={_sdkActiveListener:function(){document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?window.SphereAnalytics.inMessageStart():window.SphereAnalytics.inMessageStop()})),window.addEventListener("blur",(function(){window.SphereAnalytics.inMessageStop()})),window.addEventListener("focus",(function(){window.SphereAnalytics.inMessageStart()})),window.addEventListener("wheel",(function(){var e;(null===(e=window)||void 0===e?void 0:e.sphWebMsgIsOn)||window.SphereAnalytics.inMessageStart()})),window.addEventListener("touchstart",(function(){var e;(null===(e=window)||void 0===e?void 0:e.sphWebMsgIsOn)||window.SphereAnalytics.inMessageStart()})),y(),function(){try{var e=o.a.getItem(a.a.pageScroll);if(""!==e&&null!=e){var t=JSON.parse(e);t.url!==c.url?(s.a.systemEvent("$scroll",t),o.a.removeItem(a.a.pageScroll)):Object.assign(c,t)}}catch(e){o.a.removeItem(a.a.pageScroll)}}(),window.addEventListener("scroll",v),document.body?g(document.body):window.addEventListener("load",(function(e){g(document.body)}))},setMsgScrollEvent:function(e){l=0,u=e},setMsgDisplayOutEvent:function(e){_=e},setCollectPageScroll:function(e){f=e},setCollectPageView:function(e){p=e},sendPageView:y};Object.freeze(m),t.a=m},function(e,t,n){"use strict";var r={namespace:"sphere-sdk",version:"1.1.23",env:"production"};t.a=r},function(e,t,n){var r=n(58),o=n(59),i=n(30),a=n(60);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},function(e,t,n){var r=n(61);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(7);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";(function(e){var r,o=n(3);var i={init:function(e){r=Object(o.c)(e)},encrypt:function(t){for(var n=e.from(t,"utf8"),i=0;i<n.length;++i)n[i]^=r[i%r.length];return Object(o.e)(n)},decrypt:function(t){for(var n=new e(t,"base64"),i=0;i<n.length;++i)n[i]^=r[i%r.length];return Object(o.u)(n)}};Object.freeze(i),t.a=i}).call(this,n(55).Buffer)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(88);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(41),o=n(33);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3);function o(){for(var e=[],t=0;t<16;++t)e.push(Math.floor(256*Math.random()));var n=new Uint8Array(e);return Object(r.e)(n).substring(0,22)}},function(e,t,n){var r=n(85),o=n(86),i=n(30),a=n(87);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t,n){var r=n(32);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(30);e.exports=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},function(e,t){},function(e,t,n){var r=n(40);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(62),o=n(63),i=n(64),a=n(65),s=n(66);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(68);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(73),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(33),o=n(32),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(34)(Object.keys,Object);e.exports=r},function(e,t,n){(function(e){var r=n(35),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(72)(e))},function(e,t,n){var r=n(34)(Object.keys,Object);e.exports=r},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(81),o=n(47),i=n(82);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(34)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(33),o=n(32);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){var r=n(53),o=n(19);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";(function(e){var r=n(121),o=n(122),i=n(123);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return K(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var _=!0,f=0;f<c;f++)if(u(e,i+f)!==u(t,f)){_=!1;break}if(_)return i}return-1}function m(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return G(K(t,e.length-n),e,n,r)}function E(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return E(e,t,n,r)}function w(e,t,n,r){return G(q(t),e,n,r)}function M(e,t,n,r){return G(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,_=u>239?4:u>223?3:u>191?2:1;if(o+_<=n)switch(_){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,_=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=_}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return _(null,e)},c.allocUnsafeSlow=function(e){return _(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),_=0;_<s;++_)if(u[_]!==l[_]){i=u[_],a=l[_];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=W(e[i]);return o}function D(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function x(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,i){return i||x(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||x(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:K(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(36))},function(e,t,n){var r=n(49),o=n(97),i=n(37),a=n(17);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return r(a(n)?i(n):[n],o(t,1))}},function(e,t,n){var r=n(100),o=n(112)((function(e,t,n,o){r(e,t,n,o)}));e.exports=o},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(31),o=n(67),i=n(41),a=n(70),s=n(71),c=n(43),u=n(37),l=n(74),_=n(76),f=n(44),p=n(78),d=n(45),g=n(79),h=n(80),v=n(46),y=n(17),m=n(38),b=n(83),E=n(19),O=n(84),w=n(42),M=n(27),A="[object Arguments]",T="[object Function]",I="[object Object]",P={};P[A]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,S,C,D,k){var R,U=1&n,j=2&n,x=4&n;if(S&&(R=D?S(t,C,D,k):S(t)),void 0!==R)return R;if(!E(t))return t;var N=y(t);if(N){if(R=g(t),!U)return u(t,R)}else{var L=d(t),B=L==T||"[object GeneratorFunction]"==L;if(m(t))return c(t,U);if(L==I||L==A||B&&!D){if(R=j||B?{}:v(t),!U)return j?_(t,s(R,t)):l(t,a(R,t))}else{if(!P[L])return D?t:{};R=h(t,L,U)}}k||(k=new r);var W=k.get(t);if(W)return W;k.set(t,R),O(t)?t.forEach((function(r){R.add(e(r,n,S,r,t,k))})):b(t)&&t.forEach((function(r,o){R.set(o,e(r,n,S,o,t,k))}));var K=N?void 0:(x?j?p:f:j?M:w)(t);return o(K||t,(function(r,o){K&&(r=t[o=r]),i(R,o,e(r,n,S,o,t,k))})),R}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(26),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(26);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(26);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(26);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(69),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(23),o=n(42);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(23),o=n(27);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(36))},function(e,t,n){var r=n(23),o=n(75);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(23),o=n(77);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(19),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(40);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(89),o=n(39);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(31),o=n(90),i=n(95),a=n(96),s=n(45),c=n(17),u=n(38),l=n(48),_="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,h,v){var y=c(e),m=c(t),b=y?f:s(e),E=m?f:s(t),O=(b=b==_?p:b)==p,w=(E=E==_?p:E)==p,M=b==E;if(M&&u(e)){if(!u(t))return!1;y=!0,O=!1}if(M&&!O)return v||(v=new r),y||l(e)?o(e,t,n,g,h,v):i(e,t,b,n,g,h,v);if(!(1&n)){var A=O&&d.call(e,"__wrapped__"),T=w&&d.call(t,"__wrapped__");if(A||T){var I=A?e.value():e,P=T?t.value():t;return v||(v=new r),h(I,P,n,g,v)}}return!!M&&(v||(v=new r),a(e,t,n,g,h,v))}},function(e,t,n){var r=n(91),o=n(92),i=n(93);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,_=t.length;if(l!=_&&!(u&&_>l))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var d=-1,g=!0,h=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++d<l;){var v=e[d],y=t[d];if(a)var m=u?a(y,v,d,t,e,c):a(v,y,d,e,t,c);if(void 0!==m){if(m)continue;g=!1;break}if(h){if(!o(t,(function(e,t){if(!i(h,t)&&(v===e||s(v,e,n,a,c)))return h.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},function(e,t,n){var r=n(17);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(94);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(44),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var _=l;_--;){var f=u[_];if(!(c?f in t:o.call(t,f)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var g=!0;s.set(e,t),s.set(t,e);for(var h=c;++_<l;){var v=e[f=u[_]],y=t[f];if(i)var m=c?i(y,v,f,t,e,s):i(v,y,f,e,t,s);if(!(void 0===m?v===y||a(v,y,n,i,s):m)){g=!1;break}h||(h="constructor"==f)}if(g&&!h){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var r=n(49),o=n(98);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,t,n){var r=n(99),o=n(50),i=n(17),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(35).Symbol;e.exports=r},function(e,t,n){var r=n(31),o=n(51),i=n(101),a=n(103),s=n(19),c=n(27),u=n(54);e.exports=function e(t,n,l,_,f){t!==n&&i(n,(function(i,c){if(f||(f=new r),s(i))a(t,n,c,l,e,_,f);else{var p=_?_(u(t,c),i,c+"",t,n,f):void 0;void 0===p&&(p=i),o(t,c,p)}}),c)}},function(e,t,n){var r=n(102)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}},function(e,t,n){var r=n(51),o=n(43),i=n(104),a=n(37),s=n(46),c=n(50),u=n(17),l=n(107),_=n(38),f=n(52),p=n(19),d=n(110),g=n(48),h=n(54),v=n(111);e.exports=function(e,t,n,y,m,b,E){var O=h(e,n),w=h(t,n),M=E.get(w);if(M)r(e,n,M);else{var A=b?b(O,w,n+"",e,t,E):void 0,T=void 0===A;if(T){var I=u(w),P=!I&&_(w),S=!I&&!P&&g(w);A=w,I||P||S?u(O)?A=O:l(O)?A=a(O):P?(T=!1,A=o(w,!0)):S?(T=!1,A=i(w,!0)):A=[]:d(w)||c(w)?(A=O,c(O)?A=v(O):p(O)&&!f(O)||(A=s(w))):T=!1}T&&(E.set(w,A),m(A,w,y,b,E),E.delete(w)),r(e,n,A)}}},function(e,t,n){var r=n(105);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(106);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(35).Uint8Array;e.exports=r},function(e,t,n){var r=n(108),o=n(39);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(52),o=n(109);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(53),o=n(47),i=n(39),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(e,t,n){var r=n(23),o=n(27);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(113),o=n(118);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}},function(e,t,n){var r=n(114),o=n(115),i=n(117);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(116),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){d[o]=e,d[o+1]=t,2===(o+=2)&&(a?a(g):b())},c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,_="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var d=new Array(1e3);function g(){for(var e=0;e<o;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;o=0}var h,v,y,m,b=void 0;function E(e,t){var n=this,r=new this.constructor(M);void 0===r[w]&&j(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return R(o,r,i,n._result)}))}else D(n,r,e,t);return r}function O(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(M);return I(t,e),t}_?b=function(){return t.nextTick(g)}:l?(v=0,y=new l(g),m=document.createTextNode(""),y.observe(m,{characterData:!0}),b=function(){m.data=v=++v%2}):f?((h=new MessageChannel).port1.onmessage=g,b=function(){return h.port2.postMessage(0)}):b=void 0===c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(g)}:p()}catch(e){return p()}}():p();var w=Math.random().toString(36).substring(2);function M(){}var A=void 0;function T(t,n,r){n.constructor===t.constructor&&r===E&&n.constructor.resolve===O?function(e,t){1===t._state?S(e,t._result):2===t._state?C(e,t._result):D(t,void 0,(function(t){return I(e,t)}),(function(t){return C(e,t)}))}(t,n):void 0===r?S(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?I(e,n):S(e,n))}),(function(t){r||(r=!0,C(e,t))}),e._label);!r&&o&&(r=!0,C(e,o))}),e)}(t,n,r):S(t,n)}function I(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)S(e,t);else{var n=void 0;try{n=t.then}catch(t){return void C(e,t)}T(e,t,n)}var r,o}function P(e){e._onerror&&e._onerror(e._result),k(e)}function S(e,t){e._state===A&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(k,e))}function C(e,t){e._state===A&&(e._state=2,e._result=t,s(P,e))}function D(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&s(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?R(n,r,o,i):o(i);e._subscribers.length=0}}function R(t,n,r,o){var i=e(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(e){c=!1,s=e}if(n===a)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==A||(i&&c?I(n,a):!1===c?C(n,s):1===t?S(n,a):2===t&&C(n,a))}var U=0;function j(e){e[w]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var x=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(M),this.promise[w]||j(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&S(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===O){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===E&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===N){var s=new n(M);a?C(s,i):T(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===A&&(this._remaining--,2===e?C(r,n):this._result[t]=n),0===this._remaining&&S(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),N=function(){function t(e){this[w]=U++,this._result=this._state=void 0,this._subscribers=[],M!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){C(e,t)}))}catch(t){C(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return N.prototype.then=E,N.all=function(e){return new x(this,e).promise},N.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},N.resolve=O,N.reject=function(e){var t=new this(M);return C(t,e),t},N._setScheduler=function(e){a=e},N._setAsap=function(e){s=e},N._asap=s,N.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=N},N.Promise=N,N},e.exports=r()}).call(this,n(120),n(36))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,_=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):_=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++_<t;)c&&c[_].run();_=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,_=s>0?a-4:a;for(n=0;n<_;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=16383,s=0,c=n-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,_=n?o-1:0,f=n?-1:1,p=e[t+_];for(_+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+_],_+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+_],_+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,_=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+_>=1?f/c:f*Math.pow(2,1-_))*c>=2&&(a++,c/=2),a+_>=l?(s=0,a=l):a+_>=1?(s=(t*c-1)*Math.pow(2,o),a+=_):(s=t*Math.pow(2,_-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";n.r(t);n(29);var r=n(20),o=n.n(r),i=n(21),a=n.n(i),s=n(7),c=n.n(s),u=n(1),l=n(0),_=n(5),f=n(9),p=n(11),d=n(13),g=n(3),h=(n(6),n(2)),v=n(8),y=n(12),m=n(4);function b(e){try{if(e.data.indexOf("sphereId")>0){var t=JSON.parse(e.data),n=t.sphereId,r=t.appKey,o=t.version,i=t.versionCode;SphereAnalytics._setInfo(n,r,o,i)}}catch(e){u.a.log(e)}}var E=function(){function e(t,n){o()(this,e),c()(this,"deviceType",""),c()(this,"_native",null),c()(this,"uid",""),c()(this,"appKey",""),c()(this,"version",""),c()(this,"versionCode",0),this.deviceType=t,this._native=n,m.a.commonApi().setNative(n),l.a.setDeviceType(t),m.a.commonApi().setDeviceType(t)}return a()(e,[{key:"init",value:function(e,t){return l.a.getInitCheck()?(u.a.info("already web sdk init"),this):(this.optionSet(t),u.a.info("Sphere Web SDK version ".concat(d.a.version)),this.setGaId(),this.setWebSDKVersion(),"rn"===this.deviceType?this._initSphereInfo():this._getSphereInfo(),-1===["aos","ios"].indexOf(this.deviceType)&&this._messageListenerInit(),this)}},{key:"logEvent",value:function(e,t){return m.a.logEvent(e,t),this}},{key:"setUserId",value:function(e){return m.a.setUserId(e),this}},{key:"setName",value:function(e){return m.a.setName(e),this}},{key:"setGrade",value:function(e){return m.a.setGrade(e),this}},{key:"setGender",value:function(e){return m.a.setGender(e),this}},{key:"setBirthYear",value:function(e){return m.a.setBirthYear(e),this}},{key:"setPhoneNumber",value:function(e){return m.a.setPhoneNumber(e),this}},{key:"setEmail",value:function(e){return m.a.setEmail(e),this}},{key:"setRemainingPoint",value:function(e,t){return m.a.setRemainingPoint(e,t),this}},{key:"setTotalEarnedPoint",value:function(e,t){return m.a.setTotalEarnedPoint(e,t),this}},{key:"setTotalUsedPoint",value:function(e,t){return m.a.setTotalUsedPoint(e,t),this}},{key:"removePoints",value:function(e){return m.a.removePoints(e),this}},{key:"resetPoints",value:function(){return m.a.resetPoints(),this}},{key:"setUserProperty",value:function(e,t){return m.a.setUserProperty(e,t),this}},{key:"setUserPropertyLong",value:function(e,t){return m.a.setUserPropertyLong(e,t),this}},{key:"setUserPropertyArray",value:function(e,t){return m.a.setUserPropertyArray(e,t),this}},{key:"removeUserProperty",value:function(e){return m.a.removeUserProperty(e),this}},{key:"resetUserProperties",value:function(){return m.a.resetUserProperties(),this}},{key:"requestUpload",value:function(){return m.a.requestUpload(),this}},{key:"setAnalyticsCollectionEnabled",value:function(e){return m.a.setAnalyticsCollectionEnabled(e),this}},{key:"setLogLevel",value:function(e){return m.a.setLogLevel(e),this}},{key:"setGaId",value:function(){var e=l.a.getGaId();if(e){var t={command:"setAttributionId",vendor:"sapGa",attributionId:e.toString()};this._native.postMessage(JSON.stringify(t))}return this}},{key:"setWebSDKVersion",value:function(){var e={command:"setWebSdkVersion",value:d.a.version};return this._native.postMessage(JSON.stringify(e)),this}},{key:"_getSphereInfo",value:function(){var e,t={commandType:"sphereInfo",command:"getSphereInfo"};if(e=this._native.postMessage(JSON.stringify(t)),"aos"===this.deviceType&&null!=e&&""!==e)switch(t.command){case"getSphereInfo":var n=JSON.parse(e);this._setInfo(n.sphereId,n.appKey,n.version,n.versionCode)}}},{key:"_setInfo",value:function(e,t,n,r){if(!l.a.getInitCheck())return u.a.log("uid",e),u.a.log("appKey",t),u.a.log("version",n),u.a.log("versionCode",r),this.appKey=t,l.a.setAppKey(t),_.a.setUid(e,!1),this.uid=e,_.a.init(this.deviceType),v.a.init(_.a.getUid()),this.version=n,l.a.setVersion(n),this.versionCode=Number(r),m.a.commonApi().setVersionCode(this.versionCode),_.a.setItem(l.a.storageInfo,{sphereId:e,appKey:t,version:n,versionCode:r}),l.a.setInitCheck(!0),f.a.init(),y.a._sdkActiveListener(),this}},{key:"_messageListenerInit",value:function(){g.n.IOS()?window.addEventListener("message",b):document.addEventListener("message",b)}},{key:"_initSphereInfo",value:function(){var e=window.localStorage.getItem(l.a.storageInfo);if(null!=e&&""!==e)try{var t=JSON.parse(e),n=t.sphereId,r=t.appKey,o=t.version,i=t.versionCode;this._setInfo(n,r,o,i)}catch(e){u.a.log("_initSphereInfo Error:",e)}}},{key:"_checkOpt",value:function(){return l.a.getInfo(),this}},{key:"inMessageStop",value:function(){m.a.inMsgStop()}},{key:"inMessageStart",value:function(){m.a.inMsgStart()}},{key:"optionSet",value:function(e){return null!=e&&l.a.optionSet(e),this}},{key:"setNthDomain",value:function(e){return l.a.setNthDomain(e),this}},{key:"getVersion",value:function(){return d.a.version}},{key:"setEventSendingInterval",value:function(e){return m.a.eventSendingInterval(e),this}},{key:"pageView",value:function(e,t){m.a.pageViewOn(e,t)}},{key:"scroll",value:function(e){m.a.setScroll(e),z}},{key:"webMsg",value:function(e){m.a.setWebMsg(e)}},{key:"getUserInfo",value:function(){return l.a.getUserInfo()}}]),e}(),O=n(10),w=n.n(O),M=function(){function e(t,n){o()(this,e),c()(this,"deviceType",""),c()(this,"_native",null),this.deviceType=t,this._native=n,m.a.commonApi().setNative(n),l.a.setDeviceType(t),m.a.commonApi().setDeviceType(t)}return a()(e,[{key:"init",value:function(e,t){if(l.a.getInitCheck())return u.a.info("already web sdk init"),this;if(w()(e)===h.f.STRING&&0==/\s/.test(e))l.a.setAppKey(e),l.a.setBrowserNotSupported(),l.a.setInitCheck(!0),_.a.init(this.deviceType),v.a.init(_.a.getUid());else if(!l.a.getAppKey())return console.error("Invalid Sphere Web Key Error."),this;return l.a.getBrowserNotSupported()||(this.optionSet(t),u.a.info("Sphere Web SDK version ".concat(d.a.version)),(null!==_.a.getStorageRef()&&!0===JSON.parse(_.a.getStorageRef())._isUtm||_.a.checkTs()||_.a.getRemainMsgCheck()||_.a.isFirstVisit())&&v.a.put(_.a.isFirstVisit()?p.a.event("#firstVisit"):null,!0),f.a.init(),y.a._sdkActiveListener()),this}},{key:"logEvent",value:function(e,t){return m.a.logEvent(e,t),this}},{key:"setUserId",value:function(e){return m.a.setUserId(e),this}},{key:"setName",value:function(e){return m.a.setName(e),this}},{key:"setGrade",value:function(e){return m.a.setGrade(e),this}},{key:"setGender",value:function(e){return m.a.setGender(e),this}},{key:"setBirthYear",value:function(e){return m.a.setBirthYear(e),this}},{key:"setPhoneNumber",value:function(e){return m.a.setPhoneNumber(e),this}},{key:"setEmail",value:function(e){return m.a.setEmail(e),this}},{key:"setRemainingPoint",value:function(e,t){return m.a.setRemainingPoint(e,t),this}},{key:"setTotalEarnedPoint",value:function(e,t){return m.a.setTotalEarnedPoint(e,t),this}},{key:"setTotalUsedPoint",value:function(e,t){return m.a.setTotalUsedPoint(e,t),this}},{key:"removePoints",value:function(e){return m.a.removePoints(e),this}},{key:"resetPoints",value:function(){return m.a.resetPoints(),this}},{key:"setUserProperty",value:function(e,t){return m.a.setUserProperty(e,t),this}},{key:"setUserPropertyLong",value:function(e,t){return m.a.setUserPropertyLong(e,t),this}},{key:"setUserPropertyArray",value:function(e,t){return m.a.setUserPropertyArray(e,t),this}},{key:"removeUserProperty",value:function(e){return m.a.removeUserProperty(e),this}},{key:"resetUserProperties",value:function(){return m.a.resetUserProperties(),this}},{key:"requestUpload",value:function(){return m.a.requestUpload(),this}},{key:"setAnalyticsCollectionEnabled",value:function(e){return m.a.setAnalyticsCollectionEnabled(),this}},{key:"setLogLevel",value:function(e){return m.a.setLogLevel(e),this}},{key:"_postMessage",value:function(e,t){if(null!=e&&""!==e){var n={pushAgree:{}};n.pushAgree[e]=t,n.date=Date.now(),v.a.put(n)}return this}},{key:"_checkOpt",value:function(){return l.a.getInfo(),this}},{key:"inMessageStop",value:function(){m.a.inMsgStop()}},{key:"inMessageStart",value:function(){m.a.inMsgStart()}},{key:"optionSet",value:function(e){return null!=e&&l.a.optionSet(e),this}},{key:"setNthDomain",value:function(e){return l.a.setNthDomain(e),this}},{key:"getVersion",value:function(){return d.a.version}},{key:"setEventSendingInterval",value:function(e){return this}},{key:"pageView",value:function(e,t){m.a.pageViewOn(e,t)}},{key:"scroll",value:function(e){m.a.setScroll(e)}},{key:"webMsg",value:function(e){m.a.setWebMsg(e)}},{key:"getUserInfo",value:function(){return l.a.getUserInfo()}}]),e}(),A=function(){function e(t,n){var r=this;o()(this,e),c()(this,"deviceType",""),c()(this,"api",null),c()(this,"pushStr",{device:{info:"agreePushMessageForInformation",ad:"agreePushMessageForAdvertisement",atNight:"agreePushMessageAtNight"},web:{info:"info",ad:"ad",atNight:"night"}}),c()(this,"agreePushMessageForInformation",(function(e){return r._agreePushMessage("web"!==r.deviceType?r.pushStr.device.info:r.pushStr.web.info,e,h.e.PUSH_INFO),r})),c()(this,"agreePushMessageForAdvertisement",(function(e){return r._agreePushMessage("web"!==r.deviceType?r.pushStr.device.ad:r.pushStr.web.ad,e,h.e.PUSH_AD),r})),c()(this,"agreePushMessageAtNight",(function(e){return r._agreePushMessage("web"!==r.deviceType?r.pushStr.device.atNight:r.pushStr.web.atNight,e,h.e.PUSH_NIGHT),r})),c()(this,"setFcmToken",(function(e){try{if("aos"==r.deviceType||"ios"==r.deviceType){var t={commandType:"pushMessage",command:"setFcmToken",token:e};r.api._postMessage(t)}else r.api._postMessage("fcm",e);r._pushSetDataLog(h.e.PUSH_FCM,e)}catch(e){u.a.error(e)}return r})),this.deviceType=t,this.api=n}return a()(e,[{key:"_agreePushMessage",value:function(e,t,n){var r;if("boolean"==typeof t)r=t;else{if("string"!=typeof t||!["true","false"].includes(t.toLowerCase()))return void u.a.error("The input type must be Boolean.");try{u.a.info("Convert string to Boolean."),r=JSON.parse(t)}catch(e){}}try{var o={commandType:"pushMessage",command:e,agree:r};m.a.postMessage(o),this._pushSetDataLog(n,t)}catch(e){u.a.error(e)}}},{key:"_pushSetDataLog",value:function(e,t){u.a.info("Set ".concat(e," : ").concat(t))}},{key:"clicked",value:function(e){if(null!=e){if(!(null==e?void 0:e.messageId))return void u.a.info("messageId is not exist in parameter.");m.a.systemEvent("@pmClicked",{messageId:e.messageId,appState:(null==e?void 0:e.appState)?null==e?void 0:e.appState:"bg",receiveState:(null==e?void 0:e.receiveState)?null==e?void 0:e.receiveState:"bg",appMethod:(null==e?void 0:e.appMethod)?null==e?void 0:e.appMethod:"onCreate"})}}}]),e}();t.default=function(){var e,t,n=[];if(window.SphereAnalytics&&!(n=window.SphereAnalytics._q))return window.SphereAnalytics;e=window.ReactNativeWebView?new E(t="rn",window.ReactNativeWebView):window.SphereJsInterface?new E(t="aos",window.SphereJsInterface):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sphere?new E(t="ios",window.webkit.messageHandlers.sphere):new M(t="web");for(var r=0;r<n.length;r++)e[n[r][0]].apply(e,n[r][1]);return window.SpherePushMessage||(window.SpherePushMessage=function(e,t){if(window.SpherePushMessage)return window.SpherePushMessage;return new A(e,t)}(t,e)),e}()}]).default}));